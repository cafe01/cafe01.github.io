(function(t){function e(e){for(var n,s,r=e[0],l=e[1],c=e[2],v=0,u=[];v<r.length;v++)s=r[v],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&u.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(u.length)u.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==o[l]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},o={app:0},a=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},1:function(t,e){},2:function(t,e){},3:function(t,e){},3935:function(t,e,i){},4:function(t,e){},4678:function(t,e,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="4678"},"4dd9":function(t,e,i){"use strict";(function(t){i("99af"),i("4de4"),i("4160"),i("a434"),i("b0c0"),i("a9e3"),i("4fad"),i("d3b7"),i("ac1f"),i("25f0"),i("466d"),i("5319"),i("1276"),i("159b");var n=i("3835"),o=i("d4ec"),a=i("bee2"),s=i("262e"),r=i("2caf"),l=i("9ab4"),c=i("60a3"),d=i("e7fc"),v=i("7525"),u=function(e){Object(s["a"])(l,e);var i=Object(r["a"])(l);function l(){var t;return Object(o["a"])(this,l),t=i.apply(this,arguments),t.drawer=null,t.unixTime=NaN,t.mqtt={connections:[],db:{},client:null,connected:!1,connecting:!0},t.devices={},t.rooms=[],t.alerts=[],t}return Object(a["a"])(l,[{key:"created",value:function(){var t=this;setInterval((function(){return t.unixTime+=1}),1e3),this.mqtt.connections=JSON.parse(localStorage.connections||"[]");var e=this.mqtt.connections[0];console.log("connection",e),e&&(this.mqttConnect(e),"/"==this.$route.fullPath&&this.$router.replace({name:"dashboard"}))}},{key:"mqttConnect",value:function(t){var e=this;this.mqtt.client&&(this.mqtt.client.end(),this.rooms=[],this.devices={},this.mqtt.db={});var i=t.ssl?"wss":"ws",n="".concat(i,"://").concat(t.host,":").concat(t.port);this.$toast.default("Connection to ".concat(n));var o=Object(d["connect"])(n,{username:t.user,password:t.pass,reconnectPeriod:3e3});this.mqtt.client=o,o.subscribe("florafi/#"),o.on("connect",(function(){e.$toast.success("Connected"),e.mqtt.connected=!0,e.mqtt.connecting=!1})),o.on("reconnect",(function(){e.mqtt.connecting=!0})),o.on("offline",(function(){e.$toast.warning("Offline"),e.mqtt.connected=e.mqtt.connecting=!1,e.mqtt.db={}})),o.on("error",(function(t){console.error("mqtt error",t),e.mqtt.connected=e.mqtt.connecting=!1,e.$toast.error(t.toString())})),o.on("message",(function(t,i,n){e.mqtt.connecting=!1,e.processMessage(t,String(i),n)}))}},{key:"processMessage",value:function(t,e,i){0==i.payload.length?this.$delete(this.mqtt.db,t):this.$set(this.mqtt.db,t,e);var o=t.match(/^florafi\/room\/([\w_-]+)/);if(o){var a=o[1],s=t.substring("florafi/room/".length+a.length+1);this.processRoomMessage(a,s,e,i)}else if(o=t.match(/^homie\/(\w+)\/(.*)/),o){var r=o[1],l=o[2],c=this.devices[r];if(!c)return void console.error("Got homie message from unknown device! (%s)",r);if("$implementation/ota/status"==l){if(!c["ota_status"])return;var d=c.ota_status;if(e.match(/^\d$/))d.code=Number(e);else if(e.match(/^206 (\d+)\/(\d+)/)){var v=e.substring(4).split("/"),u=Object(n["a"])(v,2),m=u[0],b=u[1];d.progress=Number(m)/Number(b)*100,console.log("ota progress",d.progress)}}this.inflateMessage(c,l,e),l.match(/implementation\/config$/)&&this.gcDevice(c)}}},{key:"processRoomMessage",value:function(t,e,i,o){var a=this.rooms.filter((function(e){return e.id==t}))[0];if(a||(a={id:t,deviceCount:0,state:{},control:{},device:{}},this.rooms.push(a)),e.match(/^alert\//)){var s=e.split("/").splice(1),r=Object(n["a"])(s,2),l=r[0],c=r[1],d=this.alerts.filter((function(t){return t.roomId==a.id&&t.type==l&&t.name==c}))[0];return d||(d=new v["a"](a.id,l,c),this.alerts.push(d)),void d.processMsg(i)}var u=Number(i);"state/daytime/current_time"!=e||o.retain||isNaN(u)||(!this.unixTime||Math.abs(this.unixTime-u)>2)&&(this.unixTime=u),e.match(/^device\//)?this.processRoomDeviceMessage(a,e,i):this.inflateMessage(a,e,i)}},{key:"inflateMessage",value:function(t,e,i){for(var n=e.split(/\//),o=t,a=0;a<n.length;a++){var s=n[a].replace(/^\$/,"").replace(/\W/g,"_");if(a+1==n.length)if("config"==s&&i.match(/^{/)){var r=JSON.parse(i);r.settings||(r.settings={}),this.$set(t,"roomid",r.settings.garden_room),this.$set(o,s,r)}else this.$set(o,s,i);else o[s]||this.$set(o,s,{}),o=o[s]}}},{key:"processRoomDeviceMessage",value:function(t,e,i){var n=e.split("/")[1].replace(/\W/g,"_");if(""!=i){var o=this.devices[i];o||(o={id:i,fw:{},implementation:{}},this.$set(this.devices,i,o),this.mqtt.client&&(this.mqtt.client.subscribe("homie/".concat(i,"/$state")),this.mqtt.client.subscribe("homie/".concat(i,"/$localip")),this.mqtt.client.subscribe("homie/".concat(i,"/$mac")),this.mqtt.client.subscribe("homie/".concat(i,"/$stats/+")),this.mqtt.client.subscribe("homie/".concat(i,"/$fw/+")),this.mqtt.client.subscribe("homie/".concat(i,"/$implementation/+")),this.mqtt.client.subscribe("homie/".concat(i,"/$implementation/ota/status")))),o.roomid&&o.roomid!=t.id||(t.deviceCount+=1,"undefined"==typeof t.device&&this.$set(t,"device",{}),this.$set(t.device,n,o))}else this.$delete(t.device,n)}},{key:"gcDevice",value:function(t){var e=this;t.roomid&&this.rooms.forEach((function(i){if(i.id!=t.roomid&&i.device)for(var o=0,a=Object.entries(i.device);o<a.length;o++){var s=Object(n["a"])(a[o],2),r=s[0],l=s[1];if(l.id==t.id){var c="florafi/room/".concat(i.id,"/device/").concat(r.replace(/_/g,"-"));e.mqttPublish(c,null,!0),e.$delete(i.device,r),i.deviceCount--}}}))}},{key:"publishRoomControl",value:function(t,e,i){var o=e.split("."),a=Object(n["a"])(o,2),s=a[0],r=a[1];t.control&&t.control[s]&&t.control[s][r]?(this.$toast.info("".concat(e," >>> ").concat(i)),this.mqttPublish(t.control[s][r],i)):console.error("Invalid room '%s' control '%s'",t.id,e)}},{key:"publishRoom",value:function(t,e,i,n){this.mqttPublish("florafi/room/".concat(t,"/").concat(e),i,n)}},{key:"mqttPublish",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log("mqttPublish()",e,i,n),"number"==typeof i&&(i=String(i)),null==i&&(i=new t([])),this.mqtt.client&&this.mqtt.client.publish(e,i,{qos:0,retain:n})}}]),l}(c["f"]);Object(l["a"])([Object(c["d"])("publishControl")],u.prototype,"publishRoomControl",null),Object(l["a"])([Object(c["d"])()],u.prototype,"mqttPublish",null),u=Object(l["a"])([Object(c["a"])({})],u),e["a"]=u}).call(this,i("b639").Buffer)},"5c0b":function(t,e,i){"use strict";var n=i("9c0c"),o=i.n(n);o.a},7525:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("b0c0");var n=i("d4ec"),o=i("bee2"),a=function(){function t(e,i,o){Object(n["a"])(this,t),this.timestamp=NaN,this.roomId=e,this.type=i,this.name=o}return Object(o["a"])(t,[{key:"processMsg",value:function(t){this.timestamp=parseInt(t)}},{key:"isActive",value:function(){return!isNaN(this.timestamp)}}]),t}()},"9c0c":function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{attrs:{id:"inspire"}},[i("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("v-list",{attrs:{dense:""}},[i("v-subheader",[t._v("Menu")]),i("v-list-item",{attrs:{to:"/dashboard"}},[i("v-list-item-action",[i("v-icon",[t._v("mdi-view-dashboard")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Visão Geral")])],1)],1),t._l(t.rooms,(function(e){return i("v-list-item",{key:e.id,attrs:{link:"",to:"/room/"+e.id}},[i("v-list-item-action",[i("v-icon",[t._v("mdi-home")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.name||e.id))])],1)],1)})),i("v-divider"),i("v-list-item",{attrs:{to:"/devices"}},[i("v-list-item-action",[i("v-icon",[t._v("mdi-cog")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Dispositivos "),i("v-badge",{staticClass:"ml-1",attrs:{color:"red",value:t.offlineDevices>0,content:t.offlineDevices,title:t.offlineDevices+" offline"}})],1)],1)],1),i("v-list-item",{attrs:{to:"/settings"}},[i("v-list-item-action",[i("v-icon",[t._v("mdi-cog")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Configurações")])],1)],1)],2)],1),i("v-main",[i("router-view")],1),i("prompt-dialog",{ref:"promptDialog"})],1)},a=[],s=(i("4de4"),i("4160"),i("07ac"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width,dark:t.options.dark,light:"",persistent:"",width:"290px"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.ok(e)}]},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-text",{staticClass:"pa-4 pb-0"},[t.options.text?i("span",[t._v(t._s(t.options.text))]):t._e(),i("v-text-field",{attrs:{dense:"",outlined:"",autofocus:"",label:t.label},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),i("v-card-actions",[i("v-btn",{attrs:{text:""},on:{click:t.cancel}},[t._v("Cancelar")]),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.ok}},[t._v("OK")])],1)],1)],1)}),r=[],l=(i("d3b7"),{name:"PromptDialog",data:function(){return{dialog:!1,resolve:null,reject:null,label:null,value:null,options:{text:null,color:null,zIndex:200}}},computed:{show:{get:function(){return this.dialog},set:function(t){this.dialog=t,!1===t&&this.cancel()}}},methods:{open:function(t,e,i){var n=this;return this.label=t,this.value=e,this.options=Object.assign(this.options,i),this.dialog=!0,new Promise((function(t,e){n.resolve=t,n.reject=e}))},ok:function(){this.resolve(this.value),this.dialog=!1},cancel:function(){this.dialog=!1}}}),c=l,d=i("2877"),v=i("6544"),u=i.n(v),m=i("8336"),b=i("b0af"),f=i("99d9"),p=i("169a"),h=i("8654"),_=Object(d["a"])(c,s,r,!1,null,null,null),g=_.exports;u()(_,{VBtn:m["a"],VCard:b["a"],VCardActions:f["a"],VCardText:f["c"],VDialog:p["a"],VTextField:h["a"]});var y={props:{},components:{PromptDialog:g},data:function(){return{drawer:null}},created:function(){},provide:function(){return{prompt:this.prompt,toggleDrawer:this.toggleDrawer}},methods:{prompt:function(){var t=this.$refs.promptDialog;return t.open.apply(t,arguments)},toggleDrawer:function(){this.drawer=!this.drawer}},computed:{rooms:function(){var t=this.$root.rooms.filter((function(t){return"waiting"!=t.id&&t.deviceCount>0}));return t.sort((function(t,e){return t.id<e.id?-1:1})),t},offlineDevices:function(){var t=0;return Object.values(this.$root.devices).forEach((function(e){e.state&&"ready"!=e.state&&t++})),t}}},O=y,j=(i("5c0b"),i("7496")),w=i("4ca6"),x=i("ce7e"),k=i("132d"),V=i("8860"),C=i("da13"),I=i("1800"),L=i("5d23"),$=i("f6c4"),D=i("f774"),N=i("e0c7"),F=Object(d["a"])(O,o,a,!1,null,null,null),T=F.exports;u()(F,{VApp:j["a"],VBadge:w["a"],VDivider:x["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemContent:L["b"],VListItemTitle:L["d"],VMain:$["a"],VNavigationDrawer:D["a"],VSubheader:N["a"]});var S=i("8c4f"),A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-app-bar",{attrs:{app:"","clipped-left":""}},[i("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggleDrawer(e)}}}),i("v-toolbar-title",[t._v("Configruações")])],1),i("v-container",{class:{"pt-0":t.$vuetify.breakpoint.xsOnly,"pl-0":t.$vuetify.breakpoint.xsOnly,"pr-0":t.$vuetify.breakpoint.xsOnly}},[i("connection-settings")],1)],1)},E=[],P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",[i("v-btn",{on:{click:t.addConnection}},[t._v("Nova conexão")]),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isDirty,expression:"isDirty"}],attrs:{color:"primary"},on:{click:t.save}},[t._v("Salvar")])],1),i("v-list",[t._l(t.connections,(function(e,n){return[i("v-list-item",{key:n},[i("v-list-item-icon",[i("v-icon",{attrs:{large:!t.$vuetify.breakpoint.xs}},[t._v(t._s(e.editMode?"mdi-pencil":"mdi-lan-connect"))])],1),i("v-list-item-content",[e.editMode?i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"12",sm:"8"}},[i("v-text-field",{attrs:{label:"IP ou Hostname",hint:""},on:{change:function(t){e.isDirty=!0}},model:{value:e.host,callback:function(i){t.$set(e,"host",i)},expression:"conn.host"}})],1),i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-text-field",{attrs:{label:"Porta",type:"number",hint:""},on:{change:function(t){e.isDirty=!0}},model:{value:e.port,callback:function(i){t.$set(e,"port",i)},expression:"conn.port"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-switch",{attrs:{label:"SSL"},model:{value:e.ssl,callback:function(i){t.$set(e,"ssl",i)},expression:"conn.ssl"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-switch",{attrs:{label:"Possui autenticação"},model:{value:e.auth,callback:function(i){t.$set(e,"auth",i)},expression:"conn.auth"}})],1),e.auth?i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-text-field",{attrs:{label:"Usuário",hint:"(opcional)"},on:{change:function(t){e.isDirty=!0}},model:{value:e.user,callback:function(i){t.$set(e,"user",i)},expression:"conn.user"}})],1):t._e(),e.auth?i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-text-field",{attrs:{label:"Senha",hint:""},on:{change:function(t){e.isDirty=!0}},model:{value:e.pass,callback:function(i){t.$set(e,"pass",i)},expression:"conn.pass"}})],1):t._e(),i("v-col",{attrs:{cols:"12"}},[i("v-switch",{attrs:{label:"Conectar automaticamente"},model:{value:e.default,callback:function(i){t.$set(e,"default",i)},expression:"conn.default"}})],1),i("v-col",[i("v-btn",{attrs:{color:"primary"},on:{click:function(i){return t.finishEdit(e)}}},[t._v("OK")])],1)],1):i("v-list-item-title",[t._v(" "+t._s(e.ssl?"wss":"ws")+"://"+t._s(e.host)+":"+t._s(e.port)+" "),e.user?i("v-icon",{attrs:{small:"",title:"Username: "+e.user}},[t._v("mdi-account")]):t._e(),e.user?i("v-icon",{attrs:{small:"",title:"Password: "+e.user}},[t._v("mdi-key")]):t._e()],1)],1),e.editMode?i("v-list-item-icon"):i("v-list-item-icon",[i("v-btn",{attrs:{text:""},on:{click:function(i){return t.$root.mqttConnect(e)}}},[i("v-icon",[t._v("mdi-power-plug")])],1),i("v-btn",{attrs:{text:""},on:{click:function(t){e.editMode=!0}}},[i("v-icon",[t._v("mdi-pencil")])],1),i("v-btn",{attrs:{text:""},on:{click:function(e){return t.deleteConnection(n)}}},[i("v-icon",[t._v("mdi-delete")])],1)],1)],1),n+1<t.connections.length?i("v-divider",{key:"div"+n}):t._e()]}))],2)],1)},M=[],R=(i("d81d"),i("a434"),{name:"ConnectionSettings",props:[],components:{},data:function(){return{connections:[],isDirty:!1}},mounted:function(){this.$data.connections=JSON.parse(JSON.stringify(this.$root.mqtt.connections)).map((function(t){return t.editMode=!1,t})),console.log("conn",this.connections)},methods:{addConnection:function(){var t={isNew:!0,editMode:!0};this.connections.push(t),console.log("new connection",t)},deleteConnection:function(t){this.connections[t].isNew||(this.isDirty=!0),this.connections.splice(t,1)},finishEdit:function(t){t.editMode=!1,t.isDirty&&(this.isDirty=!0)},save:function(){this.connections.forEach((function(t){delete t["editMode"],delete t["isNew"],delete t["isDirty"]})),this.$root.mqtt.connections=this.connections,localStorage.connections=JSON.stringify(this.connections),this.isDirty=!1,console.log(localStorage.connections)}}}),q=R,z=i("62ad"),B=i("34c3"),U=i("0fd9"),H=i("b73d"),Y=Object(d["a"])(q,P,M,!1,null,null,null),W=Y.exports;u()(Y,{VBtn:m["a"],VCard:b["a"],VCardTitle:f["d"],VCol:z["a"],VDivider:x["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemTitle:L["d"],VRow:U["a"],VSwitch:H["a"],VTextField:h["a"]});var J={name:"Settings",props:[],inject:["toggleDrawer"],components:{ConnectionSettings:W},data:function(){return{}}},G=J,K=i("40dc"),Z=i("5bc1"),Q=i("a523"),X=i("2a7f"),tt=Object(d["a"])(G,A,E,!1,null,null,null),et=tt.exports;u()(tt,{VAppBar:K["a"],VAppBarNavIcon:Z["a"],VContainer:Q["a"],VToolbarTitle:X["b"]});var it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-app-bar",{attrs:{app:"","clipped-left":""}},[i("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggleDrawer(e)}}}),i("v-toolbar-title",[t._v("Devices")]),i("v-spacer"),i("v-btn",{on:{click:t.checkFirmwareUpdates}},[t._v("Check updates")])],1),i("v-container",{class:{"pt-0":t.$vuetify.breakpoint.xsOnly,"pl-0":t.$vuetify.breakpoint.xsOnly,"pr-0":t.$vuetify.breakpoint.xsOnly}},[i("device-list")],1)],1)},nt=[],ot=(i("b0c0"),i("ac1f"),i("466d"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[t.title&&!t.dense?i("v-subheader",[t._v(t._s(t.title))]):t._e(),t._l(t.devices,(function(e,n){return[i("device-list-item",{key:e.id,attrs:{device:e,dense:t.dense,"hide-room-link":!!t.roomid}}),n+1<t.devices.length?i("v-divider",{key:e.id+"div"}):t._e()]}))],2)}),at=[],st=i("d4ec"),rt=i("bee2"),lt=i("262e"),ct=i("2caf"),dt=i("9ab4"),vt=i("60a3"),ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list-item",{attrs:{dense:t.dense}},[i("v-list-item-action",{staticClass:"ma-4 ml-1 mr-6"},[i("device-signal-icon",{attrs:{dense:t.dense,device:t.device}})],1),t.device&&t.device.implementation&&t.device.implementation.config?i("v-list-item-content",[i("v-list-item-title",[t._v(" "+t._s(t.device.implementation.config.name)+" "),t.hideRoomLink?t._e():[t._v(" @ "),i("router-link",{staticClass:"muted",attrs:{to:{name:"room",params:{roomid:t.device.roomid}}}},[t._v(t._s(t.device.roomid))])]],2),t.device.ota_status&&!t.hasLatestFw()?i("v-progress-linear",{staticClass:"mt-2",attrs:{color:0==t.device.ota_status.progress?"secondary":"primary",indeterminate:!t.device.ota_status.progress,value:t.device.ota_status.progress}}):i("v-list-item-subtitle",[t.isOnline()&&t.itemUptime()?i("small",{staticClass:"mr-2"},[i("v-icon",{attrs:{color:"grey",title:"Uptime","x-small":""}},[t._v("mdi-clock")]),t._v(" "+t._s(t._f("duration")(t.itemUptime())))],1):t._e(),t.dense?t._e():[i("small",{staticClass:"mr-2"},[t._v(t._s(t.device.fw.name)+" v"+t._s(t.device.fw.version))]),i("small",{staticClass:"mr-2"},[t._v(" id: "+t._s(t.device.id))])]],2)],1):i("v-list-item-content",[i("v-progress-linear",{attrs:{indeterminate:""}})],1),t.device?i("v-list-item-icon",[t.device.latest_fw&&t.isOnline()?[t.hasLatestFw()?i("v-chip",{staticClass:"mt-1 mr-1",attrs:{color:"green",small:"",label:""}},[t._v("Atualizado")]):i("v-btn",{attrs:{text:"",color:"primary",disabled:!t.device.implementation.config.ota.enabled||!!t.device.ota_status},on:{click:function(e){return t.startOTA()}}},[t._v("Atualizar ")])]:t._e(),i("v-menu",{attrs:{transition:"scale-transition",light:"",left:"",origin:"top right"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""}},n),[i("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!1,2097855828)},[i("v-list",[i("v-list-item",{on:{click:function(e){return t.openConfig()}}},[i("v-list-item-content",[i("v-list-item-title",[t._v("Configurações")])],1)],1),i("v-list-item",{on:{click:function(e){return t.$refs.aboutDialog.open()}}},[i("v-list-item-content",[i("v-list-item-title",[t._v("Informações")])],1)],1),t.isOnline()?t._e():[i("v-divider"),t.isOnline()?t._e():i("v-list-item",{on:{click:function(e){return t.forget()}}},[i("v-list-item-title",[t._v("Esquecer Dispositivo")])],1)],t.isOnline()?[i("v-divider"),i("v-list-item",{on:{click:function(e){return t.reboot()}}},[i("v-list-item-content",[i("v-list-item-title",[t._v("Reiniciar")])],1)],1)]:t._e()],2)],1)],2):t._e(),i("DeviceConfigDialog",{ref:"configDialog"}),i("About",{ref:"aboutDialog"})],1)},mt=[],bt=(i("99af"),i("a9e3"),i("4fad"),i("5319"),i("3835")),ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width,attach:t.options.attach,fullscreen:t.options.fullScreen,"hide-overlay":t.options.fullScreen,transition:"slide-x-reverse-transition"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.device?i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"black"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:t.cancel}},[i("v-icon",[t._v("mdi-close")])],1),i("v-toolbar-title",[t._v("Configurações")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",text:""},on:{click:t.ok}},[t._v("OK")])],1)],1),t.isOnline?t._e():i("v-alert",{attrs:{type:"warning",dense:"",tile:"",text:""}},[t._v("Este dispositivo está offline.")]),i("v-list",{attrs:{"two-line":"",subheader:"",disabled:!t.isOnline}},[i("v-subheader",[t._v("Geral")]),i("v-list-item",{on:{click:function(e){t.prompt("Nome",t.config.name).then((function(e){return t.config.name=e}))}}},[i("v-list-item-content",[i("v-list-item-title",[t._v("Nome do dispositivo")]),i("v-list-item-subtitle",[t._v(t._s(t.config.name))])],1),i("v-list-item-action")],1),i("v-list-item",{on:{click:function(e){t.prompt("Garden room",t.config.settings.garden_room,{hint:"Apenas caracteres A-Z0-9_-"}).then((function(e){return t.config.settings.garden_room=e}))}}},[i("v-list-item-content",[i("v-list-item-title",[t._v("Garden Room ")]),i("v-list-item-subtitle",[t._v(t._s(t.config.settings.garden_room))])],1)],1),"florafi-ipcc"==t.device.fw.name?i("v-list-item",{on:{click:function(e){t.prompt("Servidor NTP",t.config.settings.ntp_server).then((function(e){return t.config.settings.ntp_server=e}))}}},[i("v-list-item-content",[i("v-list-item-title",[t._v("Servidor NTP")]),i("v-list-item-subtitle",[t._v(t._s(t.config.settings.ntp_server))])],1)],1):t._e(),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("OTA Updates")])],1),i("v-list-item-action",[i("v-switch",{model:{value:t.config.ota.enabled,callback:function(e){t.$set(t.config.ota,"enabled",e)},expression:"config.ota.enabled"}})],1)],1)],1),t.relayCount>0?i("v-list",{attrs:{"two-line":"",subheader:"",disabled:!t.isOnline}},[i("v-subheader",[t._v("Relays")]),t._l(t.relayCount,(function(e){return i("v-list-item",{key:e,on:{click:function(i){return t.configRelay(e)}}},[i("v-list-item-content",[i("v-list-item-title",[t._v("Função do relay #"+t._s(e))]),i("v-list-item-subtitle",[t._v(t._s(t.config.settings["relay"+e+"_role"]))])],1),i("v-list-item-action")],1)}))],2):t._e(),t.isEbbflow?i("v-list",{attrs:{disabled:!t.isOnline}},[i("v-subheader",[t._v("Ebbflow")]),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Inverter sensor Full")])],1),i("v-list-item-action",[i("v-switch",{model:{value:t.config.settings.invert_full,callback:function(e){t.$set(t.config.settings,"invert_full",e)},expression:"config.settings.invert_full"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Inverter sensor Empty")])],1),i("v-list-item-action",[i("v-switch",{model:{value:t.config.settings.invert_empty,callback:function(e){t.$set(t.config.settings,"invert_empty",e)},expression:"config.settings.invert_empty"}})],1)],1)],1):t._e()],1):t._e()],1)},pt=[],ht=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.dialog=!1,t.resolve=null,t.reject=null,t.device=null,t.config={},t.options={color:"primary",zIndex:200,fullScreen:!0},t.relayCount=0,t}return Object(rt["a"])(i,[{key:"open",value:function(t){var e,i,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dialog=!0,this.options=Object.assign(this.options,o),this.device=t,this.config=JSON.parse(JSON.stringify(null===(e=t.implementation)||void 0===e?void 0:e.config)),this.config||(this.config={}),this.config.settings||(this.config.settings={});var a=null===(i=t.fw)||void 0===i?void 0:i.name;if(a){var s,r,l=this.config.settings;(null===(s=t.fw)||void 0===s||null===(r=s.name)||void 0===r?void 0:r.match(/ipcc/))&&!(null===l||void 0===l?void 0:l.ntp_server)&&(l.ntp_server="br.pool.ntp.org"),a.match(/sonoff-(basic|1ch)/)?this.relayCount=1:a.match(/sonoff-?(dual|2ch)/)?this.relayCount=2:a.match(/sonoff-4ch/)?this.relayCount=4:this.relayCount=0}return new Promise((function(t,e){n.resolve=t,n.reject=e}))}},{key:"ok",value:function(){var t;if(!this.isOnline)return this.cancel();"ready"==(null===(t=this.device)||void 0===t?void 0:t.state)?(null!=this.resolve&&this.resolve(this.config),this.dialog=!1):this.$toast.error("O dispositivo está desconectado.")}},{key:"cancel",value:function(){this.dialog=!1}},{key:"configRelay",value:function(t){var e=this.config.settings;if(null!=e){var i="relay".concat(t,"_role");this.prompt("Função relay #".concat(t),e[i],{light:!0}).then((function(t){e&&(e[i]=t)}))}}},{key:"show",get:function(){return this.dialog},set:function(t){this.dialog=t,!1===t&&this.cancel()}},{key:"isEbbflow",get:function(){var t,e,i;return null===(t=this.device)||void 0===t||null===(e=t.fw)||void 0===e||null===(i=e.name)||void 0===i?void 0:i.match(/ebbflow/)}},{key:"isOnline",get:function(){var t;return"ready"==(null===(t=this.device)||void 0===t?void 0:t.state)}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["b"])()],ht.prototype,"prompt",void 0),ht=Object(dt["a"])([Object(vt["a"])({})],ht);var _t=ht,gt=_t,yt=i("0798"),Ot=i("2fa4"),jt=i("71d9"),wt=Object(d["a"])(gt,ft,pt,!1,null,null,null),xt=wt.exports;u()(wt,{VAlert:yt["a"],VBtn:m["a"],VCard:b["a"],VDialog:p["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemContent:L["b"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VSpacer:Ot["a"],VSubheader:N["a"],VSwitch:H["a"],VToolbar:jt["a"],VToolbarItems:X["a"],VToolbarTitle:X["b"]});var kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:t.options.fullscreen,transition:"slide-x-reverse-transition"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.device?i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"black"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:t.close}},[i("v-icon",[t._v("mdi-close")])],1),i("v-toolbar-title",[t._v("Informações")])],1),i("v-list",{attrs:{"two-line":"",subheader:""}},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Status")]),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.device.state)}})],1),"ready"==t.device.state?i("v-list-item-action",[i("v-icon",{attrs:{color:t.device.stats.signal<80?"yellow":"green"}},[t._v("mdi-circle-medium")])],1):i("v-list-item-action",[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-circle-medium")])],1)],1),"ready"==t.device.state?[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Intensidade do sinal WIFI")]),i("v-list-item-subtitle",[t._v(t._s(t.device.stats.signal)+"%")])],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Endereço IP")]),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.device.localip)}})],1)],1)]:t._e(),i("v-subheader",[t._v("Firmware")]),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Nome")]),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.device.fw.name)}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Versão")]),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.device.fw.version)}})],1)],1),i("v-subheader",[t._v("Hardware")]),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Endereço MAC")]),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.device.mac)}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Chip ID")]),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.device.id)}})],1)],1)],2)],1):t._e()],1)},Vt=[],Ct=n["default"].extend({name:"About",data:function(){return{show:!1,device:null,options:{fullscreen:!0}}},methods:{open:function(t){this.$data.device=t,this.$data.show=!0,console.log(t)},close:function(){this.$data.show=!1}}}),It=Ct,Lt=Object(d["a"])(It,kt,Vt,!1,null,null,null),$t=Lt.exports;u()(Lt,{VBtn:m["a"],VCard:b["a"],VDialog:p["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemContent:L["b"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VSubheader:N["a"],VToolbar:jt["a"],VToolbarTitle:X["b"]});var Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.signal>75?i("v-icon",{attrs:{dense:t.dense,color:"green lighten-1",title:t.signal+"%"}},[t._v("mdi-signal-cellular-3")]):t.signal>=50?i("v-icon",{attrs:{dense:t.dense,color:"yellow lighten-2",title:t.signal+"%"}},[t._v("mdi-signal-cellular-2")]):t.signal>0?i("v-icon",{attrs:{dense:t.dense,color:t.signal>40?"orange lighten-1":"red lighten-1",title:t.signal+"%"}},[t._v("mdi-signal-cellular-1")]):i("v-icon",{attrs:{dense:t.dense,color:"red darken-4"}},[t._v("mdi-signal-off")])},Nt=[],Ft={props:["device","dense"],computed:{signal:function(){return this.device&&"ready"==this.device.state&&this.device.stats?parseInt(this.device.stats.signal):-1}}},Tt=Ft,St=Object(d["a"])(Tt,Dt,Nt,!1,null,null,null),At=St.exports;u()(St,{VIcon:k["a"]});var Et=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"itemUptime",value:function(){var t;return null==(null===(t=this.device.stats)||void 0===t?void 0:t.uptime)?null:this.$moment.duration(Number(this.device.stats.uptime),"s")}},{key:"hasLatestFw",value:function(){var t;return(null===(t=this.device)||void 0===t?void 0:t.latest_fw)&&this.device.fw&&this.device.latest_fw.md5==this.device.fw.checksum}},{key:"isOnline",value:function(){var t;return"ready"==(null===(t=this.device)||void 0===t?void 0:t.state)}},{key:"openConfig",value:function(){var t=this,e=this.$refs.configDialog;if(null!=e){var i=this.$vuetify.breakpoint.mdAndDown?{}:{fullScreen:!1,width:500};e.open(this.device,i).then((function(e){console.log("saving confif",t.device,e),t.mqttPublish("homie/".concat(t.device.id,"/$implementation/config/set"),JSON.stringify(e)),t.$toast.success("Configuração enviada. O dispositivo riniciará com as novas configurações.")}))}}},{key:"forget",value:function(){var t=this,e=this.$root.$data.rooms.filter((function(e){return e.id==t.device.roomid}))[0];if(e){for(var i=0,n=Object.entries(e.device);i<n.length;i++){var o=Object(bt["a"])(n[i],2),a=o[0],s=o[1];if(s.id==this.device.id){var r="florafi/room/".concat(e.id,"/device/").concat(a.replace(/_/g,"-"));this.mqttPublish(r,null,!0)}}this.$delete(this.$root.$data.devices,this.device.id)}}},{key:"startOTA",value:function(){if(!this.device.latest_fw)return console.error("missing latest firmware for device %s",this.device.id);var t=this.device.latest_fw;this.mqttPublish("homie/".concat(this.device.id,"/$implementation/ota/firmware/").concat(t.md5),t.data),this.$set(this.device,"ota_status",{progress:0})}},{key:"reboot",value:function(){this.mqttPublish("homie/".concat(this.device.id,"/$implementation/config/set"),"{}")}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])({default:!1})],Et.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])({default:!1})],Et.prototype,"hideRoomLink",void 0),Object(dt["a"])([Object(vt["c"])()],Et.prototype,"device",void 0),Object(dt["a"])([Object(vt["b"])()],Et.prototype,"prompt",void 0),Object(dt["a"])([Object(vt["b"])()],Et.prototype,"mqttPublish",void 0),Object(dt["a"])([Object(vt["e"])()],Et.prototype,"configDialog",void 0),Et=Object(dt["a"])([Object(vt["a"])({components:{DeviceSignalIcon:At,DeviceConfigDialog:xt,About:$t}})],Et);var Pt=Et,Mt=Pt,Rt=i("cc20"),qt=i("e449"),zt=i("8e36"),Bt=Object(d["a"])(Mt,ut,mt,!1,null,null,null),Ut=Bt.exports;u()(Bt,{VBtn:m["a"],VChip:Rt["a"],VDivider:x["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VMenu:qt["a"],VProgressLinear:zt["a"]});var Ht=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"devices",get:function(){var t=this,e=Object.values(this.$root.$data.devices);return this.roomid&&(e=e.filter((function(e){return e.roomid==t.roomid}))),e}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],Ht.prototype,"roomid",void 0),Object(dt["a"])([Object(vt["c"])()],Ht.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],Ht.prototype,"title",void 0),Ht=Object(dt["a"])([Object(vt["a"])({components:{DeviceListItem:Ut}})],Ht);var Yt=Ht,Wt=Yt,Jt=Object(d["a"])(Wt,ot,at,!1,null,null,null),Gt=Jt.exports;u()(Jt,{VDivider:x["a"],VList:V["a"],VSubheader:N["a"]});var Kt=i("8237"),Zt={inject:["toggleDrawer"],components:{DeviceList:Gt},data:function(){return{firmware:[{name:"florafi-ipcc",regex:/ipcc/,url:"/firmware/ipcc.bin",size:null,md5:null},{name:"florafi-ebbflow",regex:/ebbflow/,url:"/firmware/ebbflow.bin",size:null,md5:null}]}},methods:{checkFirmwareUpdates:function(){var t=this;this.$data.firmware.forEach((function(e){var i=Object.values(t.$root.devices).filter((function(t){return t.fw&&t.fw.name.match(e.regex)}));console.log("checking firmware %s",e.name,i),0!=i?t.$http.get(e.url,{responseType:"arraybuffer"}).then((function(t){return t.data})).then((function(n){e.buf=n,e.data=new Uint8Array(n);var o=Kt.create();o.update(n),e.md5=o.hex(),console.log(e),i.forEach((function(i){t.$set(i,"latest_fw",e)}))})):console.log(" - no devices using this firmware, skipping.")}))}},computed:{deviceList:function(){var t=Object.values(this.$root.devices);return t.sort((function(t,e){return t.id<e.id?-1:1})),t}}},Qt=Zt,Xt=Object(d["a"])(Qt,it,nt,!1,null,null,null),te=Xt.exports;u()(Xt,{VAppBar:K["a"],VAppBarNavIcon:Z["a"],VBtn:m["a"],VContainer:Q["a"],VSpacer:Ot["a"],VToolbarTitle:X["b"]});var ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-app-bar",{attrs:{app:"",dense:"","clipped-right":""}},[i("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggleDrawer(e)}}}),i("v-toolbar-title",[t._v("Visão Geral")])],1),i("v-container",{staticClass:"pl-8",attrs:{fluid:""}},[i("v-row",t._l(t.rooms,(function(e){return i("v-col",{key:e.id,attrs:{cols:"12",sm:"6",md:"4",xl:"3"}},[i("h3",{staticClass:"mb-2"},[i("router-link",{staticClass:"muted",attrs:{to:{name:"room",params:{roomid:e.id}}}},[t._v(" "+t._s(e.name||e.id)+" ")])],1),i("alert-list",{staticClass:"mb-3",attrs:{room:e}}),i("state-row",{staticClass:"mb-3",attrs:{room:e,dense:!0}}),i("progress-list",{staticClass:"mb-4",attrs:{room:e,dense:!0}}),i("relay-list",{staticClass:"mb-4",attrs:{room:e,dense:!0}}),i("device-list",{staticClass:"mb-4",attrs:{roomid:e.id,dense:!0}}),i("room-settings",{staticClass:"mb-4",attrs:{room:e,dense:!0}})],1)})),1)],1)],1)},ie=[],ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[t.title&&!t.dense?i("v-subheader",[t._v(t._s(t.title))]):t._e(),i("v-list",{attrs:{dense:t.dense}},[0==t.alerts.length?i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"success"}},[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("All good. ")])],1)],1):t._e(),t._l(t.alerts,(function(t){return[i("alert-list-item",{key:t.name,attrs:{alert:t}})]}))],2)],1)},oe=[],ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list-item",[i("v-alert",{staticClass:"mb-1",attrs:{type:t.alert.type,icon:t.icon,text:"",dense:"",width:"100%"}},[i("div",{staticClass:"d-flex"},[i("span",[t._v(t._s(t.title))]),i("v-spacer"),i("span",{staticClass:"text-caption mr-1",staticStyle:{"line-height":"24px"}},[t._v(t._s(t._f("duration")(t.elapsedTime)))])],1)])],1)},se=[],re=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"title",get:function(){return this.alert.name}},{key:"icon",get:function(){var t={info:"mdi-information-outline",warning:"mdi-exclamation",error:"mdi-information-octagon"};return t[this.alert.type]}},{key:"elapsedTime",get:function(){var t=this.$root.$data.unixTime;return t&&this.alert.timestamp?this.$moment.duration(t-this.alert.timestamp,"seconds"):null}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],re.prototype,"alert",void 0),re=Object(dt["a"])([Object(vt["a"])({components:{}})],re);var le=re,ce=le,de=Object(d["a"])(ce,ae,se,!1,null,null,null),ve=de.exports;u()(de,{VAlert:yt["a"],VListItem:C["a"],VSpacer:Ot["a"]});var ue=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"alerts",get:function(){var t=this,e=this.room?this.$root.$data.alerts.filter((function(e){return e.roomId==t.room.id})):this.$root.$data.alerts;return e.filter((function(t){return t.isActive()}))}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],ue.prototype,"room",void 0),Object(dt["a"])([Object(vt["c"])()],ue.prototype,"title",void 0),Object(dt["a"])([Object(vt["c"])()],ue.prototype,"dense",void 0),ue=Object(dt["a"])([Object(vt["a"])({components:{AlertListItem:ve}})],ue);var me=ue,be=me,fe=Object(d["a"])(be,ne,oe,!1,null,null,null),pe=fe.exports;u()(fe,{VCard:b["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemTitle:L["d"],VSubheader:N["a"]});var he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",{staticClass:"pb-0 pt-0"},[t.title&&!t.dense?i("v-subheader",[t._v(t._s(t.title))]):t._e(),t._l(t.relays,(function(e,n){return[i("relay-list-item",{key:e.name,attrs:{dense:t.dense,state:t.room.state[e.name],name:e.name,label:e.title},on:{setcontrol:t.onSetControl}}),n<t.relays.length-1?i("v-divider",{key:e.name+"divider"}):t._e()]}))],2)},_e=[],ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list-item",{attrs:{dense:t.dense}},[i("v-list-item-icon",{staticClass:"ma-4 ml-1 mr-6"},[i("v-icon",{attrs:{large:!t.dense,color:t.isOn?"":"secondary"}},[t._v(t._s(t.isOn?"mdi-power-plug-outline":"mdi-power-plug-off-outline"))])],1),i("v-list-item-content",{staticClass:"text-md-h2"},[i("v-list-item-title",{style:{color:t.isOn?"":"#424242"}},[t._v(t._s(t.label||t.name))])],1),i("v-list-item-icon",{class:{"mt-4":t.dense}},[t.automationEnabled?i("v-btn",{attrs:{small:!t.dense,"x-small":t.dense,color:"secondary"},on:{click:function(e){return t.$emit("setcontrol",t.name+".automation","OFF")}}},[t._v("Auto")]):i("v-btn",{attrs:{small:!t.dense,"x-small":t.dense,color:"orange darken-4"},on:{click:function(e){return t.$emit("setcontrol",t.name+".automation","ON")}}},[t._v("Manual")]),i("v-btn-toggle",{staticClass:"ml-2",attrs:{value:t.state.power,mandatory:"",color:t.isOn?"primary":""},on:{change:function(e){return t.$emit("setcontrol",t.name+".power",e)}}},[i("v-btn",{attrs:{disabled:t.automationEnabled,small:!t.dense,"x-small":t.dense,value:"OFF"}},[t._v("OFF")]),i("v-btn",{attrs:{disabled:t.automationEnabled,small:!t.dense,"x-small":t.dense,value:"ON"}},[t._v("ON")])],1)],1)],1)},ye=[],Oe=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"isDeviceOnline",get:function(){return!0}},{key:"isOn",get:function(){var t;return"ON"==(null===(t=this.state)||void 0===t?void 0:t.power)}},{key:"automationEnabled",get:function(){var t;return"ON"==(null===(t=this.state)||void 0===t?void 0:t.automation)}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],Oe.prototype,"label",void 0),Object(dt["a"])([Object(vt["c"])()],Oe.prototype,"name",void 0),Object(dt["a"])([Object(vt["c"])()],Oe.prototype,"state",void 0),Oe=Object(dt["a"])([Object(vt["a"])({})],Oe);var je=Oe,we=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-switch",{attrs:{"true-value":"ON","false-value":"OFF","input-value":t.value,disabled:t.disabled,hint:t.label,"persistent-hint":!!t.label,color:t.color},on:{change:t.onChange}})},xe=[],ke={props:["room","control","value","disabled","label","color"],inject:["publishControl"],methods:{onChange:function(t){this.room?this.publishControl(this.room,this.control,t):this.$emit("change",t)}}},Ve=ke,Ce=Object(d["a"])(Ve,we,xe,!1,null,null,null),Ie=Ce.exports;u()(Ce,{VSwitch:H["a"]});var Le=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return i}(je);Object(dt["a"])([Object(vt["c"])()],Le.prototype,"dense",void 0),Le=Object(dt["a"])([Object(vt["a"])({components:{FSwitch:Ie}})],Le);var $e=Le,De=$e,Ne=i("a609"),Fe=Object(d["a"])(De,ge,ye,!1,null,null,null),Te=Fe.exports;u()(Fe,{VBtn:m["a"],VBtnToggle:Ne["a"],VIcon:k["a"],VListItem:C["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemTitle:L["d"]});var Se=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.allRelays=[{name:"light_relay",title:"Iluminação"},{name:"interval_irrigation",title:"Irrigação"},{name:"ebbflow_flood_relay",title:"Bomba Flood"},{name:"ebbflow_drain_relay",title:"Bomba Drain"},{name:"humidifier_relay",title:"Umidificador"}],t}return Object(rt["a"])(i,[{key:"onSetControl",value:function(t,e){this.publishControl(this.room,t,e)}},{key:"relays",get:function(){var t=this;return this.allRelays.filter((function(e){return t.room.device[e.name]&&t.room.state[e.name]}))}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],Se.prototype,"room",void 0),Object(dt["a"])([Object(vt["c"])()],Se.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],Se.prototype,"title",void 0),Object(dt["a"])([Object(vt["b"])()],Se.prototype,"publishControl",void 0),Se=Object(dt["a"])([Object(vt["a"])({components:{RelayListItem:Te}})],Se);var Ae=Se,Ee=Ae,Pe=Object(d["a"])(Ee,he,_e,!1,null,null,null),Me=Pe.exports;u()(Pe,{VDivider:x["a"],VList:V["a"],VSubheader:N["a"]});var Re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[t.title&&!t.dense?i("v-subheader",[t._v(t._s(t.title))]):t._e(),t.room.device.ipcc?[i("day-night-progress",{attrs:{room:t.room,dense:t.dense}})]:t._e(),t.room.device.interval_irrigation?[i("irrigation-progress",{attrs:{room:t.room,dense:t.dense}})]:t._e(),t.room.device.ebbflow?[i("ebbflow-progress",{attrs:{room:t.room,dense:t.dense}})]:t._e()],2)},qe=[],ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list-item",{attrs:{dense:t.dense}},[i("v-list-item-action",{staticClass:"mr-6"},[i("v-icon",{attrs:{large:!t.dense,color:t.inactivity?"grey":""}},[t._v(t._s(t.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{staticClass:"d-flex"},[i("span",{style:t.inactivity?"color:rgba(255, 255, 255, 0.7)":""},[t._v(t._s(t.title))]),i("v-spacer"),t.duration?i("small",{style:t.inactivity?"color:rgba(255, 255, 255, 0.7)":""},[t._v(t._s(t._f("duration")(t.$moment.duration(t.duration,"s"),{truncate:!0})))]):t._e()],1),i("v-list-item-subtitle",[t.hasDuration?i("v-progress-linear",{staticClass:"mt-1 mb-2",attrs:{value:t.progress,color:t.progress>102?"red":t.inactivity?"secondary":"primary",height:t.dense?2:4}}):i("v-progress-linear",{staticClass:"mt-2 mb-2 opaque-stream",attrs:{reverse:!!t.forward,stream:"","buffer-value":0,height:t.dense?2:4}}),i("div",{staticClass:"d-flex"},[t.elapsedSeconds>=0?i("small",[t._v(t._s(t._f("duration")(t.$moment.duration(t.elapsedSeconds,"s"),{truncate:!1})))]):t._e(),i("v-spacer"),t.remainingSeconds?i("small",[t._v(t._s(t._f("duration")(t.$moment.duration(t.remainingSeconds,"s"),{truncate:!1})))]):t._e()],1)],1)],1),i("v-list-item-action",[i("v-btn",{attrs:{icon:""}},[i("v-icon",{attrs:{small:t.dense}},[t._v("mdi-cog")])],1)],1)],1)},Be=[],Ue=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"hasDuration",get:function(){return"number"==typeof this.duration}},{key:"elapsedSeconds",get:function(){return this.$root.$data.unixTime-this.start}},{key:"remainingSeconds",get:function(){return this.duration?this.elapsedSeconds-this.duration:NaN}},{key:"progress",get:function(){if(!this.duration)return NaN;var t=this.elapsedSeconds/this.duration*100;return t}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],Ue.prototype,"inactivity",void 0),Object(dt["a"])([Object(vt["c"])()],Ue.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],Ue.prototype,"forward",void 0),Object(dt["a"])([Object(vt["c"])()],Ue.prototype,"icon",void 0),Object(dt["a"])([Object(vt["c"])()],Ue.prototype,"title",void 0),Object(dt["a"])([Object(vt["c"])()],Ue.prototype,"subtitle",void 0),Object(dt["a"])([Object(vt["c"])()],Ue.prototype,"duration",void 0),Object(dt["a"])([Object(vt["c"])()],Ue.prototype,"start",void 0),Ue=Object(dt["a"])([Object(vt["a"])({components:{}})],Ue);var He=Ue,Ye=He,We=(i("e27c"),Object(d["a"])(Ye,ze,Be,!1,null,null,null)),Je=We.exports;u()(We,{VBtn:m["a"],VIcon:k["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemContent:L["b"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VProgressLinear:zt["a"],VSpacer:Ot["a"]});var Ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isDaytime&&t.dayDuration?i("progress-list-item",{attrs:{icon:"mdi-white-balance-sunny",title:"Dia",dense:t.dense,duration:t.dayDuration,start:t.dayStart}}):t._e(),!t.isDaytime&&t.nightDuration?i("progress-list-item",{attrs:{icon:"mdi-power-sleep",title:"Noite",dense:t.dense,duration:t.nightDuration,start:t.nightStart,inactivity:!0}}):t._e()],1)},Ke=[],Ze=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"isDaytime",get:function(){var t;return"1"==(null===(t=this.room.state.daytime)||void 0===t?void 0:t.is_daytime)}},{key:"dayStart",get:function(){var t,e=Number(null===(t=this.room.state.daytime)||void 0===t?void 0:t.start_hour);if(isNaN(e))return null;var i=this.$moment.utc().startOf("day").add(e,"hours");return i.unix()>this.$root.$data.unixTime&&i.subtract(1,"days"),i.unix()}},{key:"dayDuration",get:function(){var t,e,i=Number(null===(t=this.room.state.daytime)||void 0===t?void 0:t.end_hour)-Number(null===(e=this.room.state.daytime)||void 0===e?void 0:e.start_hour);return isNaN(i)?null:(i<0&&(i+=24),60*i*60)}},{key:"nightDuration",get:function(){return this.dayDuration?86400-this.dayDuration:null}},{key:"nightStart",get:function(){var t,e=Number(null===(t=this.room.state.daytime)||void 0===t?void 0:t.end_hour);if(isNaN(e))return null;var i=this.$moment.utc().startOf("day").add(e,"hours");return i.unix()>this.$root.$data.unixTime&&i.subtract(1,"days"),i.unix()}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],Ze.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],Ze.prototype,"room",void 0),Ze=Object(dt["a"])([Object(vt["a"])({components:{ProgressListItem:Je}})],Ze);var Qe=Ze,Xe=Qe,ti=Object(d["a"])(Xe,Ge,Ke,!1,null,null,null),ei=ti.exports,ii=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.powerON&&t.intervalON&&t.lastON?i("progress-list-item",{attrs:{icon:"mdi-water-pump",title:"Irrigação",dense:t.dense,duration:t.intervalON,start:t.lastON}}):t._e(),!t.powerON&&t.intervalOFF&&t.lastOFF?i("progress-list-item",{attrs:{icon:"mdi-water-pump-off",title:"Irrigação (intervalo)",dense:t.dense,duration:t.intervalOFF,start:t.lastOFF,inactivity:!0}}):t._e()],1)},ni=[],oi=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"enableAutomation",value:function(){this.publishControl(this.room,"interval_irrigation.automation","ON")}},{key:"automationDisabled",get:function(){var t;return"OFF"==(null===(t=this.room.state.interval_irrigation)||void 0===t?void 0:t.automation)}},{key:"powerON",get:function(){var t;return"ON"==(null===(t=this.room.state.interval_irrigation)||void 0===t?void 0:t.power)}},{key:"deviceOnline",get:function(){var t=this.room.device["interval_irrigation"];return!!t&&"ready"==t.state}},{key:"isDaytime",get:function(){var t=this.room.state;return!t.daytime||"string"!=typeof t.daytime.is_daytime||"1"==t.daytime.is_daytime}},{key:"lastON",get:function(){var t;return Number(null===(t=this.room.state.interval_irrigation)||void 0===t?void 0:t.last_on)}},{key:"lastOFF",get:function(){var t;return Number(null===(t=this.room.state.interval_irrigation)||void 0===t?void 0:t.last_off)}},{key:"elapsedON",get:function(){var t=this.room.state;if(!t.interval_irrigation||!t.interval_irrigation.last_on)return null;var e=this.$root.$data.unixTime,i=e-Number(t.interval_irrigation.last_on);return i}},{key:"elapsedOFF",get:function(){var t=this.room.state;if(!t.interval_irrigation||!t.interval_irrigation.last_off)return null;var e=this.$root.$data.unixTime,i=e-Number(t.interval_irrigation.last_off);return i}},{key:"intervalON",get:function(){var t=this.room.state;if(!t.interval_irrigation||!t.interval_irrigation.duration)return null;var e=Number(t.interval_irrigation.duration);return"m"==t.interval_irrigation.duration_unit&&(e*=60),e}},{key:"intervalOFF",get:function(){var t,e,i=this.room.state,n=this.isDaytime?null===(t=i.interval_irrigation)||void 0===t?void 0:t.day_interval:null===(e=i.interval_irrigation)||void 0===e?void 0:e.night_interval;return"undefined"==typeof n?null:60*Number(n)}},{key:"progressON",get:function(){var t=this.room.state,e=this.elapsedON;if(null==e)return null;if(!t.interval_irrigation||"ON"!=t.interval_irrigation.power)return null;if("undefined"==typeof t.interval_irrigation.duration)return null;var i=Number(t.interval_irrigation.duration);"m"==t.interval_irrigation.duration_unit&&(i*=60);var n=e/i*100|0;return n}},{key:"progressOFF",get:function(){var t=this.room.state,e=this.elapsedOFF;if(null==e)return null;if(!t.interval_irrigation||"OFF"!=t.interval_irrigation.power)return null;var i=Number(t.interval_irrigation[this.isDaytime?"day_interval":"night_interval"]);if("undefined"==typeof i)return null;i*=60;var n=e/i*100|0;return n}},{key:"countdownON",get:function(){return null==this.intervalON||null==this.elapsedON?null:this.$moment.duration(this.intervalON-this.elapsedON,"seconds")}},{key:"countdownOFF",get:function(){return null==this.intervalOFF||null==this.elapsedOFF?null:this.$moment.duration(this.intervalOFF-this.elapsedOFF,"seconds")}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],oi.prototype,"room",void 0),Object(dt["a"])([Object(vt["b"])()],oi.prototype,"publishControl",void 0),oi=Object(dt["a"])([Object(vt["a"])({})],oi);var ai=oi,si=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return i}(ai);Object(dt["a"])([Object(vt["c"])()],si.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],si.prototype,"room",void 0),si=Object(dt["a"])([Object(vt["a"])({components:{ProgressListItem:Je}})],si);var ri=si,li=ri,ci=Object(d["a"])(li,ii,ni,!1,null,null,null),di=ci.exports,vi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[2==t.currentPhase&&t.lastDrain?i("progress-list-item",{attrs:{icon:"mdi-water-outline",title:"Ebbflow (drain)",dense:t.dense,duration:!1,start:t.lastDrain,forward:!1}}):3==t.currentPhase&&t.lastFlood?i("progress-list-item",{attrs:{icon:"mdi-water",title:"Ebbflow (flood)",dense:t.dense,duration:!1,start:t.lastFlood,forward:!0}}):4==t.currentPhase&&t.maxFullSeconds&&t.lastFull?i("progress-list-item",{attrs:{icon:"mdi-water",title:"Ebbflow (full)",dense:t.dense,duration:t.maxFullSeconds,start:t.lastFull}}):t._e(),1==t.currentPhase&&t.intervalDuration&&t.lastFlood?i("progress-list-item",{attrs:{icon:"mdi-water-off",title:"Ebbflow (intervalo)",dense:t.dense,duration:t.intervalDuration,start:t.lastFlood,inactivity:!0}}):t._e()],1)},ui=[],mi=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.minInterval=30,t.maxInterval=900,t.phases=["INIT","EMPTY","DRAIN","FLOOD","FULL"],t.states=[{name:"Empty"},{name:"Drain"},{name:"Flood"},{name:"Full"}],t}return Object(rt["a"])(i,[{key:"state",get:function(){return this.room.state.ebbflow}},{key:"ebbflow",get:function(){return this.room.device.ebbflow}},{key:"deviceOnline",get:function(){return!!this.ebbflow&&"ready"==this.ebbflow.state}},{key:"floodPump",get:function(){return this.room.device.ebbflow_flood_relay}},{key:"floodPumpOnline",get:function(){var t;return"ready"==(null===(t=this.floodPump)||void 0===t?void 0:t.state)}},{key:"drainPump",get:function(){return this.room.device.ebbflow_drain_relay}},{key:"drainPumpOnline",get:function(){var t;return"ready"==(null===(t=this.drainPump)||void 0===t?void 0:t.state)}},{key:"phaseLabel",get:function(){if(!this.state||!this.state.phase)return"";var t=this.phases[parseInt(this.state.phase)];return t||""}},{key:"currentPhaseDuration",get:function(){var t,e=this.room.state.ebbflow,i=null===e||void 0===e?void 0:e.phase;if(!e||!i)return"";if("1"==i?t=e.last_empty:"2"==i?t=e.last_drain:"3"==i?t=e.last_flood:"4"==i&&(t=e.last_full),!t)return"";var n=this.$root.$data.unixTime-Number(t);return this.$moment.duration(n,"seconds")}},{key:"isDaytime",get:function(){var t;return 1==Number(null===(t=this.room.state.daytime)||void 0===t?void 0:t.is_daytime)}},{key:"currentPhase",get:function(){var t;return Number(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.phase)}},{key:"lastEmpty",get:function(){var t;return Number(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.last_empty)}},{key:"lastDrain",get:function(){var t;return Number(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.last_drain)}},{key:"lastFlood",get:function(){var t;return Number(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.last_flood)}},{key:"lastFull",get:function(){var t;return Number(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.last_full)}},{key:"maxFullSeconds",get:function(){var t;return Number(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.max_full_seconds)}},{key:"intervalDuration",get:function(){var t,e;return this.isDaytime?60*Number(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.day_interval):60*Number(null===(e=this.room.state.ebbflow)||void 0===e?void 0:e.night_interval)}},{key:"ebbflowAutomationEnabled",get:function(){var t;return"ON"==(null===(t=this.state)||void 0===t?void 0:t.flood_automation)},set:function(t){this.publishControl(this.room,"ebbflow.flood_automation",t?"ON":"OFF")}},{key:"floodAutomationEnabled",get:function(){var t;return"ON"==(null===(t=this.room.state.ebbflow_flood_relay)||void 0===t?void 0:t.automation)},set:function(t){this.publishControl(this.room,"ebbflow_flood_relay.automation",t?"ON":"OFF")}},{key:"drainAutomationEnabled",get:function(){var t;return"ON"==(null===(t=this.room.state.ebbflow_drain_relay)||void 0===t?void 0:t.automation)},set:function(t){this.publishControl(this.room,"ebbflow_drain_relay.automation",t?"ON":"OFF")}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],mi.prototype,"room",void 0),Object(dt["a"])([Object(vt["b"])()],mi.prototype,"publishControl",void 0),mi=Object(dt["a"])([Object(vt["a"])({})],mi);var bi=mi,fi=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return i}(bi);Object(dt["a"])([Object(vt["c"])()],fi.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],fi.prototype,"room",void 0),fi=Object(dt["a"])([Object(vt["a"])({components:{ProgressListItem:Je}})],fi);var pi=fi,hi=pi,_i=Object(d["a"])(hi,vi,ui,!1,null,null,null),gi=_i.exports,yi=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],yi.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],yi.prototype,"title",void 0),Object(dt["a"])([Object(vt["c"])()],yi.prototype,"room",void 0),yi=Object(dt["a"])([Object(vt["a"])({components:{ProgressListItem:Je,IrrigationProgress:di,EbbflowProgress:gi,DayNightProgress:ei}})],yi);var Oi=yi,ji=Oi,wi=Object(d["a"])(ji,Re,qe,!1,null,null,null),xi=wi.exports;u()(wi,{VList:V["a"],VSubheader:N["a"]});var ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{staticClass:"align-stretch",attrs:{dense:""}},[t.room.device.ipcc?[i("v-col",{attrs:{cols:"3"}},[i("state-card",{attrs:{label:"Temperatura",suffix:"º",icon:"mdi-thermometer",dense:t.dense,to:{name:"room",params:{roomid:t.room.id,section:"temperature"}},state:t.room.state.temperature.last_value}})],1),i("v-col",{attrs:{cols:"3"}},[i("state-card",{attrs:{label:"Umidade",suffix:"%",icon:"mdi-water-percent",dense:t.dense,to:{name:"room",params:{roomid:t.room.id,section:"humidity"}},state:t.room.state.humidity.last_value}})],1),i("v-col",{attrs:{cols:"3"}},[i("state-card",{attrs:{label:"Iluminação",suffix:"%",icon:"mdi-lightbulb-on-outline",dense:t.dense,to:{name:"room",params:{roomid:t.room.id,section:"light"}},state:t.room.state.light_intensity}})],1)]:t._e(),t.room.device.ebbflow?[i("v-col",{attrs:{cols:"3"}},[i("ebbflow-state-card",{attrs:{room:t.room,dense:t.dense,to:{name:"room",params:{roomid:t.room.id,section:"ebbflow"}}}})],1)]:t._e()],2)},Vi=[],Ci=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"d-flex flex-column justify-space-around text-center",attrs:{height:"100%",loading:void 0==t.state,to:t.to}},[i("v-card-title",{staticClass:"justify-center",class:[t.dense?"text-subtitle-1":"text-h5"],attrs:{title:t.label}},[i("div",{staticClass:"text-no-wrap"},[t._v(t._s(t.state+t.suffix))])]),t.dense?i("v-card-subtitle",{attrs:{title:t.label}},[i("v-icon",{attrs:{small:"",color:"grey"}},[t._v(t._s(t.icon))])],1):i("v-card-subtitle",{staticClass:"text-caption"},[t._v(t._s(t.label))])],1)},Ii=[],Li=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],Li.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],Li.prototype,"state",void 0),Object(dt["a"])([Object(vt["c"])()],Li.prototype,"suffix",void 0),Object(dt["a"])([Object(vt["c"])()],Li.prototype,"label",void 0),Object(dt["a"])([Object(vt["c"])()],Li.prototype,"to",void 0),Object(dt["a"])([Object(vt["c"])()],Li.prototype,"icon",void 0),Li=Object(dt["a"])([Object(vt["a"])({components:{}})],Li);var $i=Li,Di=$i,Ni=Object(d["a"])(Di,Ci,Ii,!1,null,null,null),Fi=Ni.exports;u()(Ni,{VCard:b["a"],VCardSubtitle:f["b"],VCardTitle:f["d"],VIcon:k["a"]});var Ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{height:"100%",to:t.to}},[i("v-card-text",{staticClass:"d-flex pt-3 pb-3",attrs:{title:t.currentPhaseAction}},[i("div",{staticClass:"d-flex flex-column text-center mr-1"},[i("v-icon",{attrs:{color:4==t.currentPhase?"green lighten-2":"secondary",small:""}},[t._v("mdi-circle-medium")]),i("v-icon",{attrs:{color:3==t.currentPhase?"yellow lighten-2":"secondary",small:""}},[t._v("mdi-circle-medium")]),i("v-icon",{attrs:{color:2==t.currentPhase?"yellow lighten-2":"secondary",small:""}},[t._v("mdi-circle-medium")]),i("v-icon",{attrs:{color:1==t.currentPhase?"":"secondary",small:""}},[t._v("mdi-circle-medium")])],1),i("div",{staticClass:"d-flex flex-column justify-space-between text-center"},[i("div",{staticClass:"mb-2 text-no-wrap",style:{color:t.fullColor,overflow:"hidden"},attrs:{title:"Sensor nível cheio"}},[i("v-icon",{staticStyle:{"vertical-align":"text-top"},attrs:{color:t.fullColor,small:""}},[t._v("mdi-arrow-collapse-up")]),i("span",{staticClass:"text-caption text-uppercase ml-1"},[t._v("Cheio")])],1),i("div",{staticClass:"text-no-wrap",style:{color:t.emptyColor,overflow:"hidden"},attrs:{title:"Sensor nível vazio"}},[i("v-icon",{staticStyle:{"vertical-align":"baseline"},attrs:{color:t.isEmpty?"#FFF":"#424242",small:""}},[t._v("mdi-arrow-collapse-down")]),i("span",{staticClass:"d-inline-block text-caption text-uppercase ml-1"},[t._v("Vazio")])],1)])])],1)},Si=[],Ai=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"currentPhase",get:function(){var t;return Number(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.phase)}},{key:"currentPhaseLabel",get:function(){switch(this.currentPhase){case 1:return"EMPTY";case 2:return"DRAIN";case 3:return"FLOOD";case 4:return"FULL";default:return""}}},{key:"currentPhaseAction",get:function(){switch(this.currentPhase){case 1:return"Vazio";case 2:return"Drenando";case 3:return"Enchendo";case 4:return"Estabilizando";default:return""}}},{key:"isFull",get:function(){var t;return"1"==(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.is_full)}},{key:"isEmpty",get:function(){var t;return"1"==(null===(t=this.room.state.ebbflow)||void 0===t?void 0:t.is_empty)}},{key:"fullColor",get:function(){return this.isFull?"#FFF":"#424242"}},{key:"emptyColor",get:function(){return this.isEmpty?"#FFF":"#424242"}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],Ai.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],Ai.prototype,"room",void 0),Object(dt["a"])([Object(vt["c"])()],Ai.prototype,"to",void 0),Ai=Object(dt["a"])([Object(vt["a"])({components:{}})],Ai);var Ei=Ai,Pi=Ei,Mi=Object(d["a"])(Pi,Ti,Si,!1,null,null,null),Ri=Mi.exports;u()(Mi,{VCard:b["a"],VCardText:f["c"],VIcon:k["a"]});var qi=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],qi.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],qi.prototype,"room",void 0),qi=Object(dt["a"])([Object(vt["a"])({components:{StateCard:Fi,EbbflowStateCard:Ri}})],qi);var zi=qi,Bi=zi,Ui=Object(d["a"])(Bi,ki,Vi,!1,null,null,null),Hi=Ui.exports;u()(Ui,{VCol:z["a"],VRow:U["a"]});var Yi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-toolbar",{attrs:{dense:""}},[t.windows.length>0?i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.popWindow()}}},[i("v-icon",[t._v("mdi-arrow-left")])],1):i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$emit("close")}}},[i("v-icon",[t._v("mdi-close")])],1),i("v-toolbar-title",[t._v("Configurações")])],1),i("v-window",{model:{value:t.activeWindow,callback:function(e){t.activeWindow=e},expression:"activeWindow"}},[i("v-window-item",[i("v-list",{staticClass:"pt-0"},[t._l(t.sections,(function(e,n){return[i("v-list-item",{key:e.id,on:{click:function(i){return t.pushWindow(e)}}},[i("v-list-item-icon",[i("v-icon",[t._v(t._s(e.icon))])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" "+t._s(e.title)+" ")]),e.description?i("v-list-item-subtitle",[t._v(t._s(e.description))]):t._e()],1)],1),n<t.sections.length-1?i("v-divider",{key:e.id+"div"}):t._e()]}))],2)],1),t._l(t.windows,(function(e,n){return i("v-window-item",{key:n,attrs:{eager:""}},[i(e.component,{tag:"component",attrs:{room:t.room},on:{mounted:function(e){t.activeWindow=t.windows.length}}})],1)}))],2)],1)},Wi=[],Ji=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[i("setting-list-item",{attrs:{label:"Flood automático",description:"Iniciar novo ciclo de irrigação após o intervalo definido, computado a partir da última fase flood",value:t.room.state.ebbflow.flood_automation}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Intervalo diurno",value:t.room.state.ebbflow.day_interval,format:t.formatInterval}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Intervalo noturno",value:t.room.state.ebbflow.night_interval,format:t.formatInterval}}),i("v-divider",{directives:[{name:"show",rawName:"v-show",value:!t.showFineTune,expression:"!showFineTune"}]}),i("v-list-item",{directives:[{name:"show",rawName:"v-show",value:!t.showFineTune,expression:"!showFineTune"}],on:{click:function(e){t.showFineTune=!0}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-chevron-down")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Configurações avançadas")])],1)],1),i("v-subheader",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}],staticClass:"pr-0 mt-2"},[t._v(" Configurações avançadas "),i("v-divider",{staticClass:"ml-2"})],1),i("setting-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}],attrs:{label:"Min. empty seconds",description:"Tempo mínimo de permanência na fase EMPTY",value:t.room.state.ebbflow.min_empty_seconds}}),i("v-divider",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}]}),i("setting-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}],attrs:{label:"Min. drain seconds",description:"Tempo mínimo de permanência na fase DRAIN",value:t.room.state.ebbflow.min_drain_seconds}}),i("v-divider",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}]}),i("setting-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}],attrs:{label:"Max. drain minutes",description:"Tempo máximo de permanência na fase DRAIN.",value:t.room.state.ebbflow.max_drain_minutes}}),i("v-divider",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}]}),i("setting-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}],attrs:{label:"Max. flood minutes",description:"Tempo máximo de permanência na fase FLOOD.",value:t.room.state.ebbflow.max_flood_minutes}}),i("v-divider",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}]}),i("setting-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}],attrs:{label:"Min. full seconds",description:"Tempo mínimo de permanência na fase FULL.",value:t.room.state.ebbflow.min_full_seconds}}),i("v-divider",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}]}),i("setting-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showFineTune,expression:"showFineTune"}],attrs:{label:"Máx. full seconds",description:"Tempo máximo de permanência na fase FULL.",value:t.room.state.ebbflow.max_full_seconds}}),i("v-subheader",{staticClass:"pr-0 mt-2"},[t._v("Bombas "),i("v-divider",{staticClass:"ml-2"})],1),i("setting-list-item",{attrs:{label:"Automatizar bomba Flood",description:"Ativar quando o ebbflow estiver online e na fase FLOOD",value:t.room.state.ebbflow_flood_relay.automation}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Automatizar bomba Drain",description:"Ativar quando o ebbflow estiver online e na fase DRAIN",value:t.room.state.ebbflow_drain_relay.automation}}),i("v-subheader",{staticClass:"pr-0 mt-2"},[t._v("Horários "),i("v-divider",{staticClass:"ml-2"})],1),i("setting-list-item",{attrs:{label:"Última fase Empty",icon:"mdi-clock",value:t.room.state.ebbflow.last_empty,format:t.formatDate}}),i("setting-list-item",{attrs:{label:"Última fase Drain",icon:"mdi-clock",value:t.room.state.ebbflow.last_drain,format:t.formatDate}}),i("setting-list-item",{attrs:{label:"Última fase Flood",icon:"mdi-clock",value:t.room.state.ebbflow.last_flood,format:t.formatDate}}),i("setting-list-item",{attrs:{label:"Última fase Full",icon:"mdi-clock",value:t.room.state.ebbflow.last_full,format:t.formatDate}})],1)},Gi=[],Ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list-item",{attrs:{"three-line":!!t.description&&t.description.length>60}},[t.icon?i("v-list-item-icon",[i("v-icon",{domProps:{textContent:t._s(t.icon)}})],1):t._e(),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(t.label)}}),t.formattedValue?i("v-list-item-subtitle",{staticClass:"blue--text",domProps:{textContent:t._s(t.formattedValue)}}):t._e(),t.description?i("v-list-item-subtitle",{domProps:{textContent:t._s(t.description)}}):t._e()],1),t.hasAction?i("v-list-item-action"):t._e()],1)},Zi=[],Qi=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"formattedValue",get:function(){return this.format?this.format(this.value):this.value}},{key:"hasAction",get:function(){return!1}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],Qi.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],Qi.prototype,"label",void 0),Object(dt["a"])([Object(vt["c"])()],Qi.prototype,"value",void 0),Object(dt["a"])([Object(vt["c"])()],Qi.prototype,"icon",void 0),Object(dt["a"])([Object(vt["c"])()],Qi.prototype,"description",void 0),Object(dt["a"])([Object(vt["c"])()],Qi.prototype,"type",void 0),Object(dt["a"])([Object(vt["c"])()],Qi.prototype,"format",void 0),Qi=Object(dt["a"])([Object(vt["a"])({components:{}})],Qi);var Xi=Qi,tn=Xi,en=Object(d["a"])(tn,Ki,Zi,!1,null,null,null),nn=en.exports;u()(en,{VIcon:k["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemSubtitle:L["c"],VListItemTitle:L["d"]});var on=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.showFineTune=!1,t.formatInterval=function(t){return t?"".concat(t," minutos"):""},t.formatDate=function(e){return e?t.$moment.unix(Number(e)).calendar():""},t}return Object(rt["a"])(i,[{key:"mounted",value:function(){this.$emit("mounted")}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],on.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],on.prototype,"title",void 0),Object(dt["a"])([Object(vt["c"])()],on.prototype,"room",void 0),on=Object(dt["a"])([Object(vt["a"])({components:{SettingListItem:nn}})],on);var an=on,sn=an,rn=Object(d["a"])(sn,Ji,Gi,!1,null,null,null),ln=rn.exports;u()(rn,{VDivider:x["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemTitle:L["d"],VSubheader:N["a"]});var cn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[i("v-subheader",{staticClass:"pr-0 mt-2"},[t._v(" Dia e noite "),i("v-divider",{staticClass:"ml-2"})],1),i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",{staticClass:"pt-0"},[i("v-list-item-subtitle",[t._v("Os períodos diurno e noturno são utilizados para controlar além da iluminação, parâmetros específicos de irrigação, temperatura, umidade, etc.")])],1)],1),i("v-divider"),i("setting-list-item",{attrs:{label:"Início do dia",value:t.room.state.daytime.start_hour}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Início da noite",value:t.room.state.daytime.end_hour}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Automatizar iluminação (tomada)",description:"Acender automaticamente durante o dia e apagar durante a noite.",value:t.room.state.light_relay.automation}}),i("v-subheader",{staticClass:"pr-0 mt-2"},[t._v(" Alertas "),i("v-divider",{staticClass:"ml-2"})],1),i("setting-list-item",{attrs:{label:"Luminosidade mínima (dia)",description:"Detectar ausência de luz durante o período diurno.",value:"90%"}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Luminosidade máxima (noite)",description:"Detectar luminosidade indesejada durante o período noturno.",value:"2%"}})],1)},dn=[],vn=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.showFineTune=!1,t.formatInterval=function(t){return t?"".concat(t," minutos"):""},t.formatDate=function(e){return e?t.$moment.unix(Number(e)).calendar():""},t}return Object(rt["a"])(i,[{key:"mounted",value:function(){this.$emit("mounted")}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],vn.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],vn.prototype,"title",void 0),Object(dt["a"])([Object(vt["c"])()],vn.prototype,"room",void 0),vn=Object(dt["a"])([Object(vt["a"])({components:{SettingListItem:nn}})],vn);var un=vn,mn=un,bn=Object(d["a"])(mn,cn,dn,!1,null,null,null),fn=bn.exports;u()(bn,{VDivider:x["a"],VList:V["a"],VListItem:C["a"],VListItemContent:L["b"],VListItemSubtitle:L["c"],VSubheader:N["a"]});var pn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[i("v-subheader",{staticClass:"pr-0 mt-2"},[t._v(" Alertas "),i("v-divider",{staticClass:"ml-2"})],1),i("setting-list-item",{attrs:{label:"Temperatura máxima. (dia)",value:"32º"}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Temperatura máxima (noite)",value:"2%"}}),[i("v-subheader",{staticClass:"pr-0 mt-2"},[t._v(" Ar Condicinado "),i("v-divider",{staticClass:"ml-2"})],1),i("setting-list-item",{attrs:{label:"Automação",description:"Controlar o ar condicionado conforme as configurações de temperatura abaixo.",value:"ON"}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Temperatura diurna",value:"ON"}})]],2)},hn=[],_n=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.showFineTune=!1,t}return Object(rt["a"])(i,[{key:"mounted",value:function(){this.$emit("mounted")}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],_n.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],_n.prototype,"title",void 0),Object(dt["a"])([Object(vt["c"])()],_n.prototype,"room",void 0),_n=Object(dt["a"])([Object(vt["a"])({components:{SettingListItem:nn}})],_n);var gn=_n,yn=gn,On=Object(d["a"])(yn,pn,hn,!1,null,null,null),jn=On.exports;u()(On,{VDivider:x["a"],VList:V["a"],VSubheader:N["a"]});var wn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[i("v-subheader",{staticClass:"pr-0 mt-2"},[t._v(" Bomba "),i("v-divider",{staticClass:"ml-2"})],1),i("setting-list-item",{attrs:{label:"Automação",description:"Controlar bomba de irrigação conforme os intervalos definidos abaixo.",value:t.room.state.interval_irrigation.automation}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Intervalo diurno",value:t.room.state.interval_irrigation.day_interval}}),i("v-divider"),i("setting-list-item",{attrs:{label:"Intervalo noturno",value:t.room.state.interval_irrigation.day_interval}})],1)},xn=[],kn=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.showFineTune=!1,t}return Object(rt["a"])(i,[{key:"mounted",value:function(){this.$emit("mounted")}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],kn.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],kn.prototype,"title",void 0),Object(dt["a"])([Object(vt["c"])()],kn.prototype,"room",void 0),kn=Object(dt["a"])([Object(vt["a"])({components:{SettingListItem:nn}})],kn);var Vn=kn,Cn=Vn,In=Object(d["a"])(Cn,wn,xn,!1,null,null,null),Ln=In.exports;u()(In,{VDivider:x["a"],VList:V["a"],VSubheader:N["a"]});var $n=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.activeWindow=0,t.windows=[],t.allSections=[{id:"lighting",icon:"mdi-lightbulb-on",title:"Iluminação",component:"LightSettings",device:"ipcc"},{id:"temperature",icon:"mdi-thermometer",title:"Temperatura",component:"TemperatureSettings",device:"ipcc"},{id:"humidity",icon:"mdi-water-percent",title:"Umidade",component:"HumiditySettings",device:"ipcc"},{id:"ebbflow",icon:"mdi-water",title:"Ebbflow",component:"EbbflowSettings",device:"ebbflow"},{id:"irrigation",icon:"mdi-water",title:"Irrigação",component:"IrrigationSettings",device:"interval_irrigation"}],t}return Object(rt["a"])(i,[{key:"created",value:function(){var t=this;this.$watch("activeWindow",(function(e){e<t.windows.length&&setTimeout((function(){return t.windows.splice(e)}),750)}))}},{key:"pushWindow",value:function(t){this.windows.push(t)}},{key:"popWindow",value:function(){0!=this.activeWindow&&(this.activeWindow-=1)}},{key:"sections",get:function(){var t=this;return this.allSections.filter((function(e){return!!t.room.device[e.device]}))}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],$n.prototype,"dense",void 0),Object(dt["a"])([Object(vt["c"])()],$n.prototype,"title",void 0),Object(dt["a"])([Object(vt["c"])()],$n.prototype,"room",void 0),$n=Object(dt["a"])([Object(vt["a"])({components:{EbbflowSettings:ln,TemperatureSettings:jn,IrrigationSettings:Ln,LightSettings:fn}})],$n);var Dn=$n,Nn=Dn,Fn=i("f665"),Tn=i("1e6c"),Sn=Object(d["a"])(Nn,Yi,Wi,!1,null,null,null),An=Sn.exports;u()(Sn,{VBtn:m["a"],VDivider:x["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VToolbar:jt["a"],VToolbarTitle:X["b"],VWindow:Fn["a"],VWindowItem:Tn["a"]});var En=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"rooms",get:function(){return this.$root.$data.rooms.filter((function(t){return"waiting"!=t.id&&t.deviceCount>0}))}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["b"])()],En.prototype,"toggleDrawer",void 0),En=Object(dt["a"])([Object(vt["a"])({components:{AlertList:pe,StateRow:Hi,RelayList:Me,RoomSettings:An,ProgressList:xi,DeviceList:Gt}})],En);var Pn=En,Mn=Pn,Rn=Object(d["a"])(Mn,ee,ie,!1,null,null,null),qn=Rn.exports;u()(Rn,{VAppBar:K["a"],VAppBarNavIcon:Z["a"],VCol:z["a"],VContainer:Q["a"],VRow:U["a"],VToolbarTitle:X["b"]});var zn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.room?i("div",[i("v-app-bar",{attrs:{app:"",dense:"","clipped-right":""}},["overview"==t.section?i("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggleDrawer(e)}}}):i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$router.back()}}},[i("v-icon",[t._v("mdi-arrow-left")])],1),i("v-toolbar-title",[t._v(" "+t._s(t.room.name||t.room.id)+" "),i("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-double-right")]),t._v(" "+t._s(t.sectionTitle)+" ")],1),i("v-spacer")],1),i("v-container",{class:{"pb-0":!0,"pt-0":t.$vuetify.breakpoint.xsOnly,"pl-0":t.$vuetify.breakpoint.xsOnly,"pr-0":t.$vuetify.breakpoint.xsOnly}},["overview"==t.section?i("room-overview",{attrs:{room:t.room}}):"ebbflow"==t.section?i("ebbflow-panel",{attrs:{room:t.room}}):"irrigation"==t.section?i("room-irrigation",{attrs:{room:t.room}}):"light"==t.section?i("light-controls",{attrs:{room:t.room}}):"temperature"==t.section?i("temperature-control",{attrs:{room:t.room}}):"humidity"==t.section?i("humidity-control",{attrs:{room:t.room}}):"cycle"==t.section?i("cycle-controls",{attrs:{room:t.room}}):"devices"==t.section?i("div",[i("device-list",{attrs:{roomid:t.room.id}})],1):t._e()],1)],1):i("div")},Bn=[],Un=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",{},[i("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"7"}},[i("alert-list",{class:{"mb-3":t.$vuetify.breakpoint.smAndDown,"mb-5":!t.$vuetify.breakpoint.smAndDown},attrs:{room:t.room,title:"Alertas",dense:t.$vuetify.breakpoint.smAndDown}}),i("state-row",{class:{"mb-3":t.$vuetify.breakpoint.smAndDown,"mb-5":!t.$vuetify.breakpoint.smAndDown},attrs:{room:t.room,dense:t.$vuetify.breakpoint.smAndDown}}),i("progress-list",{class:{"mb-4":t.$vuetify.breakpoint.smAndDown,"mb-6":!t.$vuetify.breakpoint.smAndDown},attrs:{room:t.room,title:"Em andamento",dense:t.$vuetify.breakpoint.smAndDown}}),i("room-settings",{attrs:{room:t.room}})],1),i("v-col",{class:{"pt-0":t.$vuetify.breakpoint.smAndDown},attrs:{cols:"12",md:"5"}},[i("relay-list",{class:{"mb-4":t.$vuetify.breakpoint.smAndDown,"mb-6":!t.$vuetify.breakpoint.smAndDown},attrs:{room:t.room,title:"Tomadas",dense:t.$vuetify.breakpoint.smAndDown}}),i("device-list",{class:{"mb-4":t.$vuetify.breakpoint.smAndDown,"mb-6":!t.$vuetify.breakpoint.smAndDown},attrs:{roomid:t.room.id,title:"Conexões Flora-Fi",dense:t.$vuetify.breakpoint.smAndDown}})],1)],1)],1)},Hn=[],Yn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-subheader",[i("router-link",{staticClass:"muted",attrs:{to:{params:{roomid:t.room.id,section:"irrigation"}}}},[t._v("Irrigação")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",to:{params:{roomid:t.room.id,section:"irrigation"}}}},[i("v-icon",[t._v("mdi-tune")])],1)],1),t.deviceOnline&&t.automationDisabled?i("v-alert",{attrs:{type:"error",dense:"",dismissible:"",tile:""}},[i("div",{staticClass:"d-flex"},[i("span",[t._v("Automação desativada")]),i("v-spacer"),i("v-btn",{attrs:{small:""},on:{click:function(e){return t.enableAutomation()}}},[t._v("Ativar")])],1)]):t._e(),t.deviceOnline?t._e():i("v-alert",{attrs:{type:"error",dense:"",dismissible:"",tile:""}},[t._v(" Dispositivo offline! ")]),i("v-list",[i("v-list-item",[i("v-list-item-avatar",[t.powerON?i("v-icon",[t._v("mdi-power-plug")]):i("v-icon",{attrs:{color:"grey"}},[t._v("mdi-power-plug-off")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.powerON?"ON":"OFF"))]),i("v-list-item-subtitle",[t.powerON?i("small",[t._v("Duração: "+t._s(t._f("duration")(t.$moment.duration(t.intervalON,"s"),{truncate:!0})))]):i("small",[t._v("Intervalo: "+t._s(t._f("duration")(t.$moment.duration(t.intervalOFF,"s"),{truncate:!0})))])])],1),i("v-list-item-action",[i("v-list-item-action-text",[t._v("Restam")]),t.powerON?i("span",[t._v(t._s(t._f("duration")(t.countdownON)))]):i("span",[t._v(t._s(t._f("duration")(t.countdownOFF)))])],1)],1),null!=t.progressON?i("v-progress-linear",{attrs:{value:t.progressON,color:t.progressON>100?"red":"primary"}}):t._e(),null!=t.progressOFF?i("v-progress-linear",{attrs:{value:t.progressOFF,color:t.progressOFF>100?"red":"secondary"}}):t._e()],1)],1)},Wn=[],Jn=ai,Gn=Jn,Kn=i("8270"),Zn=Object(d["a"])(Gn,Yn,Wn,!1,null,null,null),Qn=Zn.exports;u()(Zn,{VAlert:yt["a"],VBtn:m["a"],VCard:b["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemActionText:L["a"],VListItemAvatar:Kn["a"],VListItemContent:L["b"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VProgressLinear:zt["a"],VSpacer:Ot["a"],VSubheader:N["a"]});var Xn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-subheader",[i("router-link",{staticClass:"muted",attrs:{to:{params:{roomid:t.room.id,section:"light"}}}},[t._v("Iluminação")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",to:{params:{roomid:t.room.id,section:"light"}}}},[i("v-icon",[t._v("mdi-tune")])],1)],1),t.deviceOnline?t._e():i("v-alert",{staticClass:"ma-0",attrs:{type:"error",dense:"",dismissible:"",tile:"",text:""}},[t._v(" Dispositivo offline: IPCC ")]),t.lightRelayOnline?t._e():i("v-alert",{staticClass:"ma-0",attrs:{type:"error",dense:"",dismissible:"",tile:"",text:""}},[t._v(" Dispositivo offline: Light relay ")]),t.lightRelayOnline&&!t.lightAutomationEnabled?i("v-alert",{staticClass:"ma-0",attrs:{type:"error",dense:"",tile:"",text:""}},[i("div",{staticClass:"d-flex"},[i("span",[t._v("Automação desativada.")]),i("v-spacer"),i("v-btn",{attrs:{small:""},on:{click:function(e){t.lightAutomationEnabled=!0}}},[t._v("Ativar")])],1)]):t._e(),i("v-list",[i("v-list-item",[i("v-list-item-avatar",[t.isDaytime?i("v-icon",[t._v("mdi-white-balance-sunny")]):i("v-icon",{attrs:{color:"grey"}},[t._v("mdi-power-sleep")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.isDaytime?"Dia":"Noite"))]),i("v-list-item-subtitle",[i("small",[t._v("Duração: "+t._s(t._f("duration")(t.$moment.duration(t.isDaytime?t.dayLength:t.nightLength,"seconds"),{truncate:!0})))])])],1),i("v-list-item-action",[i("v-list-item-action-text",[t._v("Restam")]),t._v(" "+t._s(t._f("duration")(t.countdown))+" ")],1)],1),t.isDaytime?i("v-progress-linear",{attrs:{value:t.dayProgress}}):i("v-progress-linear",{attrs:{value:t.nightProgress,color:"secondary"}}),i("v-list-item",[i("v-list-item-avatar",["ON"==t.room.state.light_relay.power?i("v-icon",[t._v("mdi-lightbulb-on-outline")]):i("v-icon",{attrs:{color:"grey"}},[t._v("mdi-lightbulb-off-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.room.state.light_relay.power))])],1),i("v-list-item-action",[i("v-list-item-action-text",[t._v("Intensidade")]),i("span",{style:{color:t.intensityColor}},[t._v(t._s(t.room.state.light_intensity)+"%")])],1)],1)],1)],1)},to=[],eo=i("fcf4"),io=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.lastCurrentTime=NaN,t.timeOffset=0,t}return Object(rt["a"])(i,[{key:"device",get:function(){return this.room.device.ipcc}},{key:"lightRelay",get:function(){return this.room.device.light_relay}},{key:"lightRelayOnline",get:function(){var t;return"ready"==(null===(t=this.lightRelay)||void 0===t?void 0:t.state)}},{key:"deviceOnline",get:function(){var t;return"ready"==(null===(t=this.device)||void 0===t?void 0:t.state)}},{key:"lightAutomationEnabled",get:function(){var t;return"ON"==(null===(t=this.room.state.light_relay)||void 0===t?void 0:t.automation)},set:function(t){this.publishControl(this.room,"light_relay.automation",t?"ON":"OFF")}},{key:"currentTime",get:function(){return isNaN(this.lastCurrentTime)?null:this.$moment.unix(this.lastCurrentTime+this.timeOffset)}},{key:"currentTimeUTC",get:function(){return this.currentTime?this.currentTime.clone().utc():null}},{key:"isDaytime",get:function(){var t,e,i=this.room.state;return"string"!=typeof(null===(t=i.daytime)||void 0===t?void 0:t.is_daytime)||"1"==(null===(e=i.daytime)||void 0===e?void 0:e.is_daytime)}},{key:"intensityColor",get:function(){var t=Number(this.room.state.light_intensity),e="";return this.isDaytime?(t<95&&(e=eo["a"].orange.base),t<85&&(e=eo["a"].red.base)):(t>1&&(e=eo["a"].orange.base),t>5&&(e=eo["a"].red.base)),e}},{key:"startHour",get:function(){var t=this.room.state.daytime;return"undefined"==typeof(null===t||void 0===t?void 0:t.start_hour)?null:Number(t.start_hour)}},{key:"endHour",get:function(){var t=this.room.state.daytime;return"undefined"==typeof(null===t||void 0===t?void 0:t.end_hour)?null:Number(t.end_hour)}},{key:"dayLength",get:function(){if(null==this.startHour||null==this.endHour)return null;var t=60*(this.endHour-this.startHour)*60;return t>0?t:t+86400}},{key:"nightLength",get:function(){return this.dayLength?86400-this.dayLength:null}},{key:"dayElapsed",get:function(){if(null==this.startHour||null==this.endHour)return null;var t=this.$root.$data.unixTime,e=this.$moment.utc().startOf("day").add(this.startHour,"hours");return e.unix()>t&&e.subtract(1,"days"),t-e.unix()}},{key:"nightElapsed",get:function(){if(null==this.endHour)return null;var t=this.$moment.utc().startOf("day").add(this.endHour,"hours");return this.$root.$data.unixTime-t.unix()}},{key:"dayProgress",get:function(){return null==this.dayElapsed||null==this.dayLength?null:this.dayElapsed/this.dayLength*100|0}},{key:"nightProgress",get:function(){return null==this.nightElapsed||null==this.nightLength?null:this.nightElapsed/this.nightLength*100|0}},{key:"countdown",get:function(){var t=this.isDaytime?this.dayLength:this.nightLength,e=this.isDaytime?this.dayElapsed:this.nightElapsed;return null==t||null==e?null:this.$moment.duration(t-e,"seconds")}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],io.prototype,"room",void 0),Object(dt["a"])([Object(vt["b"])()],io.prototype,"publishControl",void 0),io=Object(dt["a"])([Object(vt["a"])({})],io);var no=io,oo=no,ao=oo,so=Object(d["a"])(ao,Xn,to,!1,null,null,null),ro=so.exports;u()(so,{VAlert:yt["a"],VBtn:m["a"],VCard:b["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemActionText:L["a"],VListItemAvatar:Kn["a"],VListItemContent:L["b"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VProgressLinear:zt["a"],VSpacer:Ot["a"],VSubheader:N["a"]});var lo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-subheader",[t._v(" Ambiente "),i("v-spacer")],1),t.deviceOnline?t._e():i("v-alert",{attrs:{type:"error",dense:"",dismissible:"",tile:""}},[t._v(" Dispositivo offline! ")]),t.room.state.temperature?i("v-list-item",[i("v-list-item-avatar",[i("v-icon",{attrs:{color:t.temperatureColor,disabled:!t.deviceOnline}},[t._v("mdi-thermometer")])],1),i("v-list-item-content",[t.deviceOnline?i("v-list-item-title",{style:{color:t.temperatureColor},domProps:{textContent:t._s(t.temperature)}}):i("v-list-item-title",[t._v("-")]),t.idealTemperature?i("v-list-item-subtitle",[t.deviceOnline&&t.temperatureIndexLabel?i("small",{staticClass:"mr-2",style:{color:t.temperatureColor},domProps:{textContent:t._s(t.temperatureIndexLabel)}}):t._e(),i("small",[t._v("Ideal: "+t._s(t.idealTemperature))])]):t._e()],1),i("v-list-item-action",[i("v-btn",{attrs:{icon:"",to:{params:{section:"temperature"}}}},[i("v-icon",[t._v("mdi-tune")])],1)],1)],1):t._e(),i("v-divider"),t.room.state.humidity?i("v-list-item",[i("v-list-item-avatar",[i("v-icon",{attrs:{color:t.humidityColor,disabled:!t.deviceOnline}},[t._v("mdi-water-percent")])],1),i("v-list-item-content",[t.deviceOnline?i("v-list-item-title",{style:{color:t.humidityColor},domProps:{textContent:t._s(t.humidity)}}):i("v-list-item-title",[t._v("-")]),t.idealHumidity?i("v-list-item-subtitle",[t.deviceOnline&&t.humidityIndexLabel?i("small",{staticClass:"mr-2",style:{color:t.humidityColor},domProps:{textContent:t._s(t.humidityIndexLabel)}}):t._e(),i("small",[t._v("Ideal: "+t._s(t.idealHumidity))])]):t._e()],1),i("v-list-item-action",[i("v-btn",{attrs:{icon:"",to:{params:{section:"humidity"}}}},[i("v-icon",[t._v("mdi-tune")])],1)],1)],1):t._e()],1)},co=[],vo=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"deviceOnline",get:function(){var t=this.room.device["ipcc"];return!!t&&"ready"==t.state}},{key:"temperature",get:function(){var t,e;return(null===(t=this.room.state.temperature)||void 0===t?void 0:t.last_value)?(null===(e=this.room.state.temperature)||void 0===e?void 0:e.last_value)+"º":"-"}},{key:"idealTemperature",get:function(){var t,e;return(null===(t=this.room.state.temperature)||void 0===t?void 0:t.ideal)?(null===(e=this.room.state.temperature)||void 0===e?void 0:e.ideal)+"º":null}},{key:"temperatureIndex",get:function(){var t,e;return null==(null===(t=this.room.state.temperature)||void 0===t?void 0:t.index)?NaN:Number(null===(e=this.room.state.temperature)||void 0===e?void 0:e.index)}},{key:"temperatureIndexLabel",get:function(){var t="";switch(this.temperatureIndex){case-1:t="Baixa";break;case-2:t="Muito baixa";break;case 1:t="Alta";break;case 2:t="Muito alta";break}return t}},{key:"temperatureColor",get:function(){var t;if(isNaN(this.temperatureIndex))return"";var e=Math.abs(Number(null===(t=this.room.state.temperature)||void 0===t?void 0:t.index));return 2==e?eo["a"].red.base:1==e?eo["a"].orange.base:""}},{key:"humidity",get:function(){var t,e;return(null===(t=this.room.state.humidity)||void 0===t?void 0:t.last_value)?(null===(e=this.room.state.humidity)||void 0===e?void 0:e.last_value)+"%":"-"}},{key:"idealHumidity",get:function(){var t,e;return(null===(t=this.room.state.humidity)||void 0===t?void 0:t.ideal)?(null===(e=this.room.state.humidity)||void 0===e?void 0:e.ideal)+"%":null}},{key:"humidityIndex",get:function(){var t,e;return null==(null===(t=this.room.state.humidity)||void 0===t?void 0:t.index)?NaN:Number(null===(e=this.room.state.humidity)||void 0===e?void 0:e.index)}},{key:"humidityIndexLabel",get:function(){var t="";switch(this.humidityIndex){case-1:t="Baixa";break;case-2:t="Muito baixa";break;case 1:t="Alta";break;case 2:t="Muito alta";break}return t}},{key:"humidityColor",get:function(){var t;if(isNaN(this.humidityIndex))return"";var e=Math.abs(Number(null===(t=this.room.state.humidity)||void 0===t?void 0:t.index));return 2==e?eo["a"].red.base:1==e?eo["a"].orange.base:""}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],vo.prototype,"room",void 0),vo=Object(dt["a"])([Object(vt["a"])({})],vo);var uo=vo,mo=uo,bo=Object(d["a"])(mo,lo,co,!1,null,null,null),fo=bo.exports;u()(bo,{VAlert:yt["a"],VBtn:m["a"],VCard:b["a"],VDivider:x["a"],VIcon:k["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemAvatar:Kn["a"],VListItemContent:L["b"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VSpacer:Ot["a"],VSubheader:N["a"]});var po=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-subheader",[i("router-link",{staticClass:"muted",attrs:{to:{params:{roomid:t.room.id,section:"ebbflow"}}}},[t._v("Ebbflow")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",to:{params:{roomid:t.room.id,section:"ebbflow"}}}},[i("v-icon",[t._v("mdi-tune")])],1)],1),t.deviceOnline?t._e():i("v-alert",{staticClass:"ma-0",attrs:{type:"error",icon:"mdi-signal-off",dense:"",dismissible:"",tile:"",text:""}},[i("device-link",{attrs:{device:t.ebbflow}}),t._v(" está offline. ")],1),t.floodPumpOnline?t._e():i("v-alert",{staticClass:"ma-0",attrs:{type:"error",icon:"mdi-signal-off",dense:"",dismissible:"",tile:"",text:""}},[i("device-link",{attrs:{device:t.floodPump}}),t._v(" está offline. ")],1),t.drainPumpOnline||t.drainPump==t.floodPump?t._e():i("v-alert",{staticClass:"ma-0",attrs:{type:"error",icon:"mdi-signal-off",dense:"",dismissible:"",tile:"",text:""}},[i("device-link",{attrs:{device:t.drainPump}}),t._v(" está offline. ")],1),t.deviceOnline&&!t.ebbflowAutomationEnabled?i("v-alert",{staticClass:"ma-0",attrs:{type:"error",dense:"",dismissible:"",tile:"",text:""}},[i("div",{staticClass:"d-flex"},[i("span",[t._v("Automação desativada: ebbflow")]),i("v-spacer"),i("v-btn",{attrs:{small:""},on:{click:function(e){t.ebbflowAutomationEnabled=!0}}},[t._v("Ativar")])],1)]):t._e(),t.deviceOnline&&!t.floodAutomationEnabled?i("v-alert",{staticClass:"ma-0",attrs:{type:"error",dense:"",tile:"",text:""}},[i("div",{staticClass:"d-flex"},[i("span",[t._v("Automação desativada: bomba flood.")]),i("v-spacer"),i("v-btn",{attrs:{small:""},on:{click:function(e){t.floodAutomationEnabled=!0}}},[t._v("Ativar")])],1)]):t._e(),t.deviceOnline&&!t.drainAutomationEnabled?i("v-alert",{staticClass:"ma-0",attrs:{type:"error",dense:"",tile:"",text:""}},[i("div",{staticClass:"d-flex"},[i("span",[t._v("Automação desativada: bomba drain")]),i("v-spacer"),i("v-btn",{attrs:{small:""},on:{click:function(e){t.drainAutomationEnabled=!0}}},[t._v("Ativar")])],1)]):t._e(),t.room.state.ebbflow?i("v-list",[i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-state-machine")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Fase atual")]),i("v-list-item-subtitle",[t.deviceOnline?i("small",[t._v("Duração: "+t._s(t._f("duration")(t.currentPhaseDuration)))]):t._e()])],1),i("v-list-item-action",[t.deviceOnline?i("v-list-item-action-text",{domProps:{textContent:t._s(t.phaseLabel)}}):t._e(),t.room.state.ebbflow?[i("v-row",[i("v-icon",{attrs:{title:"EMPTY",color:t.deviceOnline&&"1"==t.room.state.ebbflow.phase?"primary":"secondary"}},[t._v("mdi-circle-medium")]),i("v-icon",{attrs:{title:"DRAIN",color:t.deviceOnline&&"2"==t.room.state.ebbflow.phase?"primary":"secondary"}},[t._v("mdi-circle-medium")]),i("v-icon",{attrs:{title:"FLOOD",color:t.deviceOnline&&"3"==t.room.state.ebbflow.phase?"primary":"secondary"}},[t._v("mdi-circle-medium")]),i("v-icon",{attrs:{title:"FULL",color:t.deviceOnline&&"4"==t.room.state.ebbflow.phase?"primary":"secondary"}},[t._v("mdi-circle-medium")])],1)]:t._e()],2)],1)],1):t._e()],1)},ho=[],_o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.device?i("v-list-item",[i("v-list-item-icon",[i("device-signal-icon",{attrs:{device:t.device}})],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Conexão Flora-Fi")]),t.device.fw&&t.device.fw.name?i("v-list-item-subtitle",[i("device-link",{attrs:{device:t.device}})],1):t._e()],1),"ready"==t.device.state?i("v-list-item-action",[t._v(t._s(t.device.stats?"Sinal: "+t.device.stats.signal+"%":""))]):i("v-list-item-action",[t._v("offline")])],1):i("v-list-item",[i("v-list-item-content",[i("v-progress-linear",{attrs:{indeterminate:"",color:"secondary"}})],1)],1)},go=[],yo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{staticClass:"muted",attrs:{to:{name:"room",params:{section:"devices",roomid:t.device.roomid}}}},[t._v(" "+t._s(t.name)+" ")])},Oo=[],jo=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"name",get:function(){var t,e;return null===(t=this.device.implementation)||void 0===t||null===(e=t.config)||void 0===e?void 0:e.name}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],jo.prototype,"device",void 0),jo=Object(dt["a"])([Object(vt["a"])({})],jo);var wo=jo,xo=wo,ko=Object(d["a"])(xo,yo,Oo,!1,null,null,null),Vo=ko.exports,Co=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"deviceName",get:function(){var t,e;return null===(t=this.device.implementation)||void 0===t||null===(e=t.config)||void 0===e?void 0:e.name}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],Co.prototype,"device",void 0),Co=Object(dt["a"])([Object(vt["a"])({components:{DeviceSignalIcon:At,DeviceLink:Vo}})],Co);var Io=Co,Lo=Io,$o=Object(d["a"])(Lo,_o,go,!1,null,null,null),Do=$o.exports;u()($o,{VListItem:C["a"],VListItemAction:I["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VProgressLinear:zt["a"]});var No=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.room.state[t.name]?i("v-list",[i("v-list-item",[i("v-list-item-action",[i("v-icon",{attrs:{color:t.isOn(t.room.state[t.name].power)?"":"secondary"}},[t._v(t._s(t.isOn(t.room.state[t.name].power)?"mdi-power-plug-outline":"mdi-power-plug-off-outline"))])],1),i("v-list-item-content",{staticClass:"text-md-h2"},[i("v-list-item-title",[t._v(t._s(t.label))])],1),i("v-list-item-icon",{staticClass:"mt-0"},[i("f-switch",{attrs:{label:t.room.state[t.name].power,disabled:!t.isDeviceOnline||t.isOn(t.room.state[t.name].automation),value:t.room.state[t.name].power,room:t.room,control:t.name+".power"}}),i("f-switch",{staticClass:"ml-2",attrs:{label:t.isOn(t.room.state[t.name].automation)?"Auto":"Manual",disabled:!t.isDeviceOnline,value:t.room.state[t.name].automation,room:t.room,control:t.name+".automation"}})],1)],1),i("device-list-item",{attrs:{device:t.room.device[t.name],simple:!0}}),t._t("default"),t.expand?t._e():[i("v-divider"),i("v-list-item",{attrs:{disabled:!t.isDeviceOnline,dense:""},on:{click:function(e){t.expand=!0}}},[i("v-list-item-action",[i("v-icon",[t._v("mdi-chevron-down")])],1),i("v-list-item-content",[i("v-list-item-title",{staticClass:"text--secondary"},[t._v("Mais informações")])],1)],1)],t.expand?[i("v-divider"),i("v-list-item",{attrs:{disabled:!t.isDeviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.isDeviceOnline}},[t._v("mdi-calendar-clock")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Último ON")])],1),i("v-list-item-action",[t.room.state[t.name].last_on?i("span",[t._v(t._s(t._f("moment")(parseInt(t.room.state[t.name].last_on),"DD/MM/YYYY, H:mm:ss")))]):i("span",[t._v("-")])])],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.isDeviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.isDeviceOnline}},[t._v("mdi-calendar-clock")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Último OFF")])],1),i("v-list-item-action",[t.room.state[t.name].last_off?i("span",[t._v(t._s(t._f("moment")(parseInt(t.room.state[t.name].last_off),"DD/MM/YYYY, H:mm:ss")))]):i("span",[t._v("-")])])],1)]:t._e()],2):t._e()},Fo=[],To={props:["room","label","name"],components:{FSwitch:Ie,DeviceStatusListItem:Do,DeviceListItem:Ut},data:function(){return{expand:!1}},methods:{isOn:function(t){return"ON"==t}},computed:{isDeviceOnline:function(){var t=this.room.device[this.name];return!!t&&"ready"==t.state}}},So=To,Ao=Object(d["a"])(So,No,Fo,!1,null,null,null),Eo=Ao.exports;u()(Ao,{VDivider:x["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemTitle:L["d"]});var Po=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return i}(bi);Po=Object(dt["a"])([Object(vt["a"])({components:{DeviceStatusListItem:Do,RelayControlList:Eo,DeviceLink:Vo}})],Po);var Mo=Po,Ro=Mo,qo=Object(d["a"])(Ro,po,ho,!1,null,null,null),zo=qo.exports;u()(qo,{VAlert:yt["a"],VBtn:m["a"],VCard:b["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemActionText:L["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VRow:U["a"],VSpacer:Ot["a"],VSubheader:N["a"]});var Bo=n["default"].extend({props:["room"],components:{EnvironmentOverview:fo,IrrigationOverview:Qn,LightOverview:ro,DeviceList:Gt,AlertList:pe,StateRow:Hi,EbbflowOverview:zo,ProgressList:xi,RoomSettings:An,RelayList:Me},methods:{onSetControl:function(){console.log("got set control")}}}),Uo=Bo,Ho=Object(d["a"])(Uo,Un,Hn,!1,null,null,null),Yo=Ho.exports;u()(Ho,{VCol:z["a"],VContainer:Q["a"],VRow:U["a"]});var Wo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",md:"6"}},[t.room.state.ebbflow?i("v-list",[i("v-subheader",[t._v(" Ebbflow "),i("v-spacer"),t.room.state.ebbflow?[parseInt(t.room.state.ebbflow.phase)<3?i("v-btn",{attrs:{small:"",disabled:!t.deviceOnline,color:"secondary"},on:{click:function(e){return t.publishControl(t.room,"ebbflow.phase",3)}}},[t._v("Iniciar Flood")]):t._e(),parseInt(t.room.state.ebbflow.phase)>2?i("v-btn",{attrs:{small:"",disabled:!t.deviceOnline,color:"secondary"},on:{click:function(e){return t.publishControl(t.room,"ebbflow.phase",2)}}},[t._v("Iniciar Drain")]):t._e()]:t._e()],2),i("device-status-list-item",{attrs:{device:t.room.device.ebbflow}}),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-state-machine")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Fase atual")]),i("v-list-item-subtitle",[t.deviceOnline?i("small",[t._v("Duração: "+t._s(t._f("duration")(t.currentPhaseDuration)))]):t._e()])],1),i("v-list-item-action",[t.deviceOnline?i("v-list-item-action-text",{domProps:{textContent:t._s(t.phaseLabel)}}):t._e(),t.room.state.ebbflow?[i("v-row",[i("v-icon",{attrs:{title:"EMPTY",color:t.deviceOnline&&"1"==t.room.state.ebbflow.phase?"primary":"secondary"}},[t._v("mdi-circle-medium")]),i("v-icon",{attrs:{title:"DRAIN",color:t.deviceOnline&&"2"==t.room.state.ebbflow.phase?"primary":"secondary"}},[t._v("mdi-circle-medium")]),i("v-icon",{attrs:{title:"FLOOD",color:t.deviceOnline&&"3"==t.room.state.ebbflow.phase?"primary":"secondary"}},[t._v("mdi-circle-medium")]),i("v-icon",{attrs:{title:"FULL",color:t.deviceOnline&&"4"==t.room.state.ebbflow.phase?"primary":"secondary"}},[t._v("mdi-circle-medium")])],1),i("v-btn-toggle",{attrs:{tile:"",group:"",dense:""}})]:t._e()],2)],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-arrow-expand-vertical")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Sensores de nível")])],1),t.room.state.ebbflow?i("v-list-item-action",[t.room.state.ebbflow?i("v-row",[i("v-chip",{attrs:{small:"",label:"",disabled:"1"!=t.room.state.ebbflow.is_empty,color:"1"==t.room.state.ebbflow.is_empty?"primary":"secondary"}},[t._v("EMPTY")]),i("v-chip",{staticClass:"ml-2",attrs:{small:"",label:"",disabled:"1"!=t.room.state.ebbflow.is_full,color:"1"==t.room.state.ebbflow.is_full?"primary":"secondary"}},[t._v("FULL")])],1):t._e()],1):t._e()],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-clock-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Intervalo diurno")])],1),t.room.state.ebbflow?i("v-list-item-action",[i("v-text-field",{attrs:{dense:"",type:"number",suffix:"minutos","hide-details":"",disabled:!t.deviceOnline,step:"5",min:t.minInterval,max:t.maxInterval},on:{change:function(e){return t.publishControl(t.room,"ebbflow.day_interval",e)}},model:{value:t.room.state.ebbflow.day_interval,callback:function(e){t.$set(t.room.state.ebbflow,"day_interval",e)},expression:"room.state.ebbflow.day_interval"}})],1):t._e()],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-clock-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Intervalo noturno")])],1),t.room.state.ebbflow?i("v-list-item-action",[i("v-text-field",{attrs:{dense:"",type:"number",suffix:"minutos","hide-details":"",disabled:!t.deviceOnline,step:"5",min:t.minInterval,max:t.maxInterval},on:{change:function(e){return t.publishControl(t.room,"ebbflow.night_interval",e)}},model:{value:t.room.state.ebbflow.night_interval,callback:function(e){t.$set(t.room.state.ebbflow,"night_interval",e)},expression:"room.state.ebbflow.night_interval"}})],1):t._e()],1),t.expand?t._e():[i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline,dense:""},on:{click:function(e){t.expand=!0}}},[i("v-list-item-action",[i("v-icon",[t._v("mdi-chevron-down")])],1),i("v-list-item-content",[i("v-list-item-title",{staticClass:"text--secondary"},[t._v("Mais informações")])],1)],1)],t.expand?[i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-calendar-clock")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Último EMPTY")])],1),i("v-list-item-action",[t.room.state.ebbflow.last_empty?i("v-list-item-action-text",[t._v(t._s(t._f("moment")(parseInt(t.room.state.ebbflow.last_empty),"DD/MM/YYYY, H:mm:ss")))]):t._e(),t.room.state.ebbflow&&t.room.state.ebbflow.last_empty?i("span",[t._v(t._s(t._f("moment")(parseInt(t.room.state.ebbflow.last_empty),"from")))]):i("v-icon",{attrs:{disabled:!t.deviceOnline,small:""}},[t._v("mdi-help")])],1)],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-calendar-clock")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Último DRAIN")])],1),i("v-list-item-action",[t.room.state.ebbflow.last_drain?i("v-list-item-action-text",[t._v(t._s(t._f("moment")(parseInt(t.room.state.ebbflow.last_drain),"DD/MM/YYYY, H:mm:ss")))]):t._e(),t.room.state.ebbflow&&t.room.state.ebbflow.last_drain?i("span",[t._v(t._s(t._f("moment")(parseInt(t.room.state.ebbflow.last_drain),"from")))]):i("v-icon",{attrs:{disabled:!t.deviceOnline,small:""}},[t._v("mdi-help")])],1)],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-calendar-clock")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Último FLOOD")])],1),i("v-list-item-action",[t.room.state.ebbflow.last_flood?i("v-list-item-action-text",[t._v(t._s(t._f("moment")(parseInt(t.room.state.ebbflow.last_flood),"DD/MM/YYYY, H:mm:ss")))]):t._e(),t.room.state.ebbflow&&t.room.state.ebbflow.last_flood?i("span",[t._v(t._s(t._f("moment")(parseInt(t.room.state.ebbflow.last_flood),"from")))]):i("v-icon",{attrs:{disabled:!t.deviceOnline,small:""}},[t._v("mdi-help")])],1)],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-calendar-clock")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Último FULL")])],1),i("v-list-item-action",[t.room.state.ebbflow.last_full?i("v-list-item-action-text",[t._v(t._s(t._f("moment")(parseInt(t.room.state.ebbflow.last_full),"DD/MM/YYYY, H:mm:ss")))]):t._e(),t.room.state.ebbflow&&t.room.state.ebbflow.last_full?i("span",[t._v(t._s(t._f("moment")(parseInt(t.room.state.ebbflow.last_full),"from")))]):i("v-icon",{attrs:{disabled:!t.deviceOnline,small:""}},[t._v("mdi-help")])],1)],1)]:t._e()],2):t._e()],1),i("v-col",{attrs:{cols:"12",md:"6"}},[i("relay-control-list",{staticClass:"mb-6",attrs:{room:t.room,name:"ebbflow_flood_relay",label:"Bomba flood"}}),i("relay-control-list",{attrs:{room:t.room,name:"ebbflow_drain_relay",label:"Bomba drain"}})],1)],1)],1)},Jo=[],Go=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.expand=!1,t}return i}(bi);Go=Object(dt["a"])([Object(vt["a"])({components:{DeviceStatusListItem:Do,RelayControlList:Eo}})],Go);var Ko=Go,Zo=Ko,Qo=Object(d["a"])(Zo,Wo,Jo,!1,null,null,null),Xo=Qo.exports;u()(Qo,{VBtn:m["a"],VBtnToggle:Ne["a"],VChip:Rt["a"],VCol:z["a"],VContainer:Q["a"],VDivider:x["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemActionText:L["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VRow:U["a"],VSpacer:Ot["a"],VSubheader:N["a"],VTextField:h["a"]});var ta=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",lg:"6"}},[t.room.state.daytime?i("v-list",[i("v-subheader",[t._v("Dia e Noite")]),i("device-status-list-item",{attrs:{device:t.room.device.ipcc}}),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[t.isDaytime?i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-white-balance-sunny")]):i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-power-sleep")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Fase atual")]),i("v-list-item-subtitle",[t._v(t._s(t.isDaytime?"Dia":"Noite"))])],1),i("v-list-item-action",[i("v-list-item-action-text",[t._v("Restam")]),t._v(" "+t._s(t._f("duration")(t.countdown))+" ")],1)],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-clock")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Hora atual")])],1),i("v-list-item-action",[t.deviceOnline&&t.currentTime?i("v-list-item-action-text",[t._v(t._s(t._f("moment")(t.currentTime,"H:mm"))+" Local")]):t._e(),t.deviceOnline&&t.currentTimeUTC?i("span",[t._v(t._s(t._f("moment")(t.currentTimeUTC,"H:mm"))+" UTC")]):i("v-icon",{attrs:{small:"",disabled:!t.deviceOnline}},[t._v("mdi-help")])],1)],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-white-balance-sunny")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Início do dia")]),i("v-list-item-subtitle",[i("small",[t._v("Duração: "+t._s(t._f("duration")(t.$moment.duration(t.dayLength,"seconds"))))])])],1),i("v-list-item-action",[i("v-text-field",{attrs:{type:"number",min:"0",max:"23",disabled:!t.deviceOnline,hint:"Horário global (UTC)",suffix:":00 UTC","hide-details":""},on:{change:function(e){return t.publishControl(t.room,"daytime.start_hour",e)}},model:{value:t.room.state.daytime.start_hour,callback:function(e){t.$set(t.room.state.daytime,"start_hour",e)},expression:"room.state.daytime.start_hour"}})],1)],1),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{attrs:{disabled:!t.deviceOnline}},[t._v("mdi-power-sleep")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Início da noite")]),i("v-list-item-subtitle",[i("small",[t._v("Duração: "+t._s(t._f("duration")(t.$moment.duration(t.nightLength,"seconds"))))])])],1),i("v-list-item-action",[i("v-text-field",{attrs:{type:"number",min:"0",max:"23",disabled:!t.deviceOnline,hint:"Horário global (UTC)",suffix:":00 UTC","hide-details":""},on:{change:function(e){return t.$root.publishRoomControl(t.room,"daytime.end_hour",e)}},model:{value:t.room.state.daytime.end_hour,callback:function(e){t.$set(t.room.state.daytime,"end_hour",e)},expression:"room.state.daytime.end_hour"}})],1)],1)],1):t._e()],1),i("v-col",{attrs:{cols:"12",lg:"6"}},[i("relay-control-list",{attrs:{room:t.room,name:"light_relay",label:"Iluminação"}})],1)],1)],1)},ea=[],ia=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"created",value:function(){var t=this;this.$watch("room.state.daytime.current_time",(function(e){console.log("new current_time",e),t.lastCurrentTime=parseInt(e),t.timeOffset=0})),setInterval((function(){t.timeOffset++}),1e3)}}]),i}(no);ia=Object(dt["a"])([Object(vt["a"])({components:{RelayControlList:Eo,DeviceStatusListItem:Do}})],ia);var na=ia,oa=na,aa=Object(d["a"])(oa,ta,ea,!1,null,null,null),sa=aa.exports;u()(aa,{VCol:z["a"],VContainer:Q["a"],VDivider:x["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemActionText:L["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VRow:U["a"],VSubheader:N["a"],VTextField:h["a"]});var ra=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("relay-control-list",{attrs:{room:t.room,name:"interval_irrigation",label:"Irrigação"}},[t.room.state.interval_irrigation?[null!=t.progressON?i("v-progress-linear",{attrs:{value:t.progressON,color:t.progressON>100?"red":"primary"}}):t._e(),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{staticClass:"mt-1",attrs:{disabled:!t.deviceOnline}},[t._v("mdi-clock-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Intervalo diurno")])],1),i("v-list-item-action",[i("v-text-field",{attrs:{value:t.room.state.interval_irrigation.day_interval,dense:"",type:"number",suffix:"minutos","hide-details":"",disabled:!t.deviceOnline,step:"1",min:"5",max:"1440"},on:{change:function(e){return t.publishControl(t.room,"interval_irrigation.day_interval",e)}}})],1)],1),null!=t.progressOFF&&t.isDaytime?i("v-progress-linear",{attrs:{value:t.progressOFF,color:t.progressOFF>100?"red":"secondary"}}):t._e(),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{staticClass:"mt-1",attrs:{disabled:!t.deviceOnline}},[t._v("mdi-clock-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Intervalo noturno")]),i("v-list-item-subtitle")],1),i("v-list-item-action",[i("v-text-field",{attrs:{value:t.room.state.interval_irrigation.night_interval,dense:"",type:"number",suffix:"minutos","hide-details":"",disabled:!t.deviceOnline,step:"1",min:"5",max:"1440"},on:{change:function(e){return t.publishControl(t.room,"interval_irrigation.night_interval",e)}}})],1)],1),null==t.progressOFF||t.isDaytime?t._e():i("v-progress-linear",{attrs:{value:t.progressOFF,color:t.progressOFF>100?"red":"secondary"}}),i("v-divider"),i("v-list-item",{attrs:{disabled:!t.deviceOnline}},[i("v-list-item-icon",[i("v-icon",{staticClass:"mt-1",attrs:{disabled:!t.deviceOnline}},[t._v("mdi-clock-outline")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v("Duração")])],1),i("v-list-item-action",[i("v-text-field",{attrs:{dense:"",type:"number","hide-details":"",disabled:!t.deviceOnline,step:"1",min:"1",max:"600"},on:{change:function(e){return t.publishControl(t.room,"interval_irrigation.duration",e)}},scopedSlots:t._u([{key:"append-outer",fn:function(){return[i("v-btn-toggle",{attrs:{color:"primary",dense:""},on:{change:function(e){return t.publishControl(t.room,"interval_irrigation.duration_unit",e)}},model:{value:t.room.state.interval_irrigation.duration_unit,callback:function(e){t.$set(t.room.state.interval_irrigation,"duration_unit",e)},expression:"room.state.interval_irrigation.duration_unit"}},[i("v-btn",{attrs:{disabled:!t.deviceOnline,"x-small":"",text:"",value:"m"}},[t._v(t._s(t.$vuetify.breakpoint.xsOnly?"Min":"Minutos"))]),i("v-btn",{attrs:{disabled:!t.deviceOnline,"x-small":"",text:"",value:"s"}},[t._v(t._s(t.$vuetify.breakpoint.xsOnly?"Seg":"Segundos"))])],1)]},proxy:!0}],null,!1,2151080725),model:{value:t.room.state.interval_irrigation.duration,callback:function(e){t.$set(t.room.state.interval_irrigation,"duration",e)},expression:"room.state.interval_irrigation.duration"}})],1)],1)]:t._e()],2)],1)},la=[],ca=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return i}(ai);ca=Object(dt["a"])([Object(vt["a"])({components:{RelayControlList:Eo}})],ca);var da=ca,va=da,ua=Object(d["a"])(va,ra,la,!1,null,null,null),ma=ua.exports;u()(ua,{VBtn:m["a"],VBtnToggle:Ne["a"],VContainer:Q["a"],VDivider:x["a"],VIcon:k["a"],VListItem:C["a"],VListItemAction:I["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemSubtitle:L["c"],VListItemTitle:L["d"],VProgressLinear:zt["a"],VTextField:h["a"]});var ba=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-subheader",[t._v("Temperatura")]),i("v-tabs",{attrs:{grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",{key:"dia"},[t._v("Dia")]),i("v-tab",{key:"noite"},[t._v("Noite")])],1),i("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{key:"dia"},[t.room.state.temperature?i("ideal-range-control",{attrs:{suffix:"º",value:t.room.state.temperature},on:{change:t.onChange}}):t._e()],1),i("v-tab-item",{key:"noite"},[t.room.state.temperature?i("ideal-range-control",{attrs:{suffix:"º",value:t.room.state.temperature},on:{change:t.onChange}}):t._e()],1)],1)],1)},fa=[],pa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-list",[i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-circle")])],1),i("v-list-item-content",[i("v-list-item-title",{},[t._v("Muito alta")])],1),i("v-list-item-icon",[i("span",{staticClass:"mr-2",staticStyle:{"font-size":"1.2em","line-height":"1.5em"}},[t._v(" "+t._s(t.alertMax+t.suffix)+" ")]),i("increment-buttons",{attrs:{value:t.value.alert_max},on:{change:function(e){return t.$emit("change","alert_max",e)}}})],1)],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"orange"}},[t._v("mdi-circle")])],1),i("v-list-item-content",[i("v-list-item-title",{},[t._v("Alta")])],1),i("v-list-item-icon",[i("span",{staticClass:"mr-2",staticStyle:{"font-size":"1.2em","line-height":"1.5em"}},[t._v(t._s(t.idealMax+t.suffix))]),i("increment-buttons",{attrs:{value:t.value.ideal_max},on:{change:function(e){return t.$emit("change","ideal_max",e)}}})],1)],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"green"}},[t._v("mdi-circle")])],1),i("v-list-item-content",[i("v-list-item-title",{},[t._v("Ideal")])],1),i("v-list-item-icon",[i("span",{staticClass:"mr-2",staticStyle:{"font-size":"1.2em","line-height":"1.5em"}},[t._v(" "+t._s(t.ideal+t.suffix)+" ")]),i("increment-buttons",{attrs:{value:t.value.ideal},on:{change:function(e){return t.$emit("change","ideal",e)}}})],1)],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"orange"}},[t._v("mdi-circle")])],1),i("v-list-item-content",[i("v-list-item-title",{},[t._v("Baixa")])],1),i("v-list-item-icon",[i("span",{staticClass:"mr-2",staticStyle:{"font-size":"1.2em","line-height":"1.5em"}},[t._v(t._s(t.idealMin+t.suffix))]),i("increment-buttons",{attrs:{value:t.value.ideal_min},on:{change:function(e){return t.$emit("change","ideal_min",e)}}})],1)],1),i("v-divider"),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"red"}},[t._v("mdi-circle")])],1),i("v-list-item-content",[i("v-list-item-title",{},[t._v("Muito baixa")])],1),i("v-list-item-icon",[i("span",{staticClass:"mr-2",staticStyle:{"font-size":"1.2em","line-height":"1.5em"}},[t._v(t._s(t.alertMin+t.suffix))]),i("increment-buttons",{attrs:{value:t.value.alert_min},on:{change:function(e){return t.$emit("change","alert_min",e)}}})],1)],1)],1)],1)},ha=[],_a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-inline-block"},[i("v-btn",{staticClass:"mr-1",attrs:{small:"",tile:""},on:{click:function(e){return t.increment()}}},[i("v-icon",[t._v("mdi-chevron-up")])],1),i("v-btn",{attrs:{small:"",tile:""},on:{click:function(e){return t.decrement()}}},[i("v-icon",[t._v("mdi-chevron-down")])],1)],1)},ga=[],ya=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"increment",value:function(t){var e="number"==typeof this.value?this.value:Number(this.value);null==t&&(t=this.step),console.log(e,t),this.$emit("change",e+t)}},{key:"decrement",value:function(){this.increment(-1*this.step)}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],ya.prototype,"min",void 0),Object(dt["a"])([Object(vt["c"])()],ya.prototype,"max",void 0),Object(dt["a"])([Object(vt["c"])({default:1})],ya.prototype,"step",void 0),Object(dt["a"])([Object(vt["c"])()],ya.prototype,"value",void 0),ya=Object(dt["a"])([Object(vt["a"])({})],ya);var Oa=ya,ja=Oa,wa=Object(d["a"])(ja,_a,ga,!1,null,null,null),xa=wa.exports;u()(wa,{VBtn:m["a"],VIcon:k["a"]});var ka=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"created",value:function(){console.log("value",this.value)}},{key:"setControl",value:function(t,e){console.log(t,e)}},{key:"ideal",get:function(){return null==this.value.ideal?null:Number(this.value.ideal)}},{key:"idealMin",get:function(){return null==this.ideal||null==this.value.ideal_min?null:this.ideal+Number(this.value.ideal_min)}},{key:"idealMax",get:function(){return null==this.ideal||null==this.value.ideal_max?null:this.ideal+Number(this.value.ideal_max)}},{key:"alertMin",get:function(){return null==this.idealMin||null==this.value.alert_min?null:this.idealMin+Number(this.value.alert_min)}},{key:"alertMax",get:function(){return null==this.idealMax||null==this.value.alert_max?null:this.idealMax+Number(this.value.alert_max)}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],ka.prototype,"value",void 0),Object(dt["a"])([Object(vt["c"])({default:""})],ka.prototype,"suffix",void 0),ka=Object(dt["a"])([Object(vt["a"])({components:{IncrementButtons:xa}})],ka);var Va=ka,Ca=Va,Ia=Object(d["a"])(Ca,pa,ha,!1,null,null,null),La=Ia.exports;u()(Ia,{VDivider:x["a"],VIcon:k["a"],VList:V["a"],VListItem:C["a"],VListItemContent:L["b"],VListItemIcon:B["a"],VListItemTitle:L["d"]});var $a=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){var t;return Object(st["a"])(this,i),t=e.apply(this,arguments),t.tab=null,t}return Object(rt["a"])(i,[{key:"onChange",value:function(t,e){console.log("temperatureControl:onChange",t,e),this.publishControl(this.room,"temperature.".concat(t),e)}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],$a.prototype,"room",void 0),Object(dt["a"])([Object(vt["b"])()],$a.prototype,"publishControl",void 0),$a=Object(dt["a"])([Object(vt["a"])({components:{IdealRangeControl:La}})],$a);var Da=$a,Na=Da,Fa=i("71a3"),Ta=i("c671"),Sa=i("fe57"),Aa=i("aac8"),Ea=Object(d["a"])(Na,ba,fa,!1,null,null,null),Pa=Ea.exports;u()(Ea,{VCard:b["a"],VSubheader:N["a"],VTab:Fa["a"],VTabItem:Ta["a"],VTabs:Sa["a"],VTabsItems:Aa["a"]});var Ma=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",lg:"6"}},[i("v-card",[i("v-subheader",[t._v(" Umidade "),i("v-spacer"),i("span",[t._v(t._s(t.room.state.humidity.last_value)+"%")])],1),t.room.state.humidity?i("ideal-range-control",{attrs:{suffix:"%",value:t.room.state.humidity},on:{change:t.onChange}}):t._e()],1)],1),i("v-col",{attrs:{cols:"12",lg:"6"}},[i("relay-control-list",{attrs:{room:t.room,name:"humidifier_relay",label:"Umidificador"}})],1)],1)],1)},Ra=[],qa=function(t){Object(lt["a"])(i,t);var e=Object(ct["a"])(i);function i(){return Object(st["a"])(this,i),e.apply(this,arguments)}return Object(rt["a"])(i,[{key:"onChange",value:function(t,e){console.log("HumidityControl:onChange",t,e),this.publishControl(this.room,"humidity.".concat(t),e)}}]),i}(vt["f"]);Object(dt["a"])([Object(vt["c"])()],qa.prototype,"room",void 0),Object(dt["a"])([Object(vt["b"])()],qa.prototype,"publishControl",void 0),qa=Object(dt["a"])([Object(vt["a"])({components:{IdealRangeControl:La,RelayControlList:Eo}})],qa);var za=qa,Ba=za,Ua=Object(d["a"])(Ba,Ma,Ra,!1,null,null,null),Ha=Ua.exports;u()(Ua,{VCard:b["a"],VCol:z["a"],VContainer:Q["a"],VRow:U["a"],VSpacer:Ot["a"],VSubheader:N["a"]});var Ya={name:"RoomView",inject:["toggleDrawer"],props:{roomid:{type:String},section:{type:String,default:"overview"}},components:{RoomOverview:Yo,EbbflowPanel:Xo,DeviceList:Gt,LightControls:sa,TemperatureControl:Pa,HumidityControl:Ha,RoomIrrigation:ma},data:function(){return{tab:null,room:null,drawer:!1,drawerValue:null,showAllSections:!1,sections:[{text:"Visão Geral",value:"overview",icon:"mdi-view-grid"},{text:"Iluminação",value:"light",icon:"mdi-lightbulb-multiple-outline"},{text:"Ebbflow",value:"ebbflow",icon:"mdi-state-machine"},{text:"Irrigação",value:"irrigation",icon:"mdi-sprinkler-variant"},{text:"Temperatura",value:"temperature",icon:"mdi-thermometer"},{text:"Umidade",value:"humidity",icon:"mdi-water-percent"},{text:"CO2",value:"co2",icon:"mdi-gas-cylinder"},{text:"Ciclo",value:"cycle",icon:"mdi-calendar-clock"},{text:"Dispositivos",value:"devices",icon:"mdi-signal"},{text:"Alertas",value:"alerts",icon:"mdi-bell"}]}},computed:{sectionTitle:function(){var t=this,e=this.sections.filter((function(e){return e.value==t.section}))[0];return e?e.text:""}},methods:{updateRoom:function(){var t=this;this.room=this.$root.rooms.filter((function(e){return e.id==t.roomid}))[0]},publishRoomControl:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];console.log(e)},changeSection:function(t){this.$router.push({name:"room",params:{roomid:this.roomid,section:t}})}},created:function(){var t=this;if(this.updateRoom(),this.drawerValue=this.section,!this.room)var e=this.$watch("$root.rooms",(function(){t.updateRoom(),t.room&&e()}))},watch:{$route:function(){this.updateRoom()}}},Wa=Ya,Ja=Object(d["a"])(Wa,zn,Bn,!1,null,null,null),Ga=Ja.exports;u()(Ja,{VAppBar:K["a"],VAppBarNavIcon:Z["a"],VBtn:m["a"],VContainer:Q["a"],VIcon:k["a"],VSpacer:Ot["a"],VToolbarTitle:X["b"]}),n["default"].use(S["a"]);var Ka=[{name:"dashboard",path:"/dashboard",component:qn},{path:"/devices",component:te},{path:"/settings",component:et},{name:"room",path:"/room/:roomid/:section?",component:Ga,props:!0}],Za=new S["a"]({routes:Ka}),Qa=Za,Xa=(i("5363"),i("f309"));n["default"].use(Xa["a"]);var ts=new Xa["a"]({lang:{},theme:{dark:!0},icons:{iconfont:"mdi"}}),es=i("bc3a"),is=i.n(es),ns=i("a7fe"),os=i.n(ns);n["default"].use(os.a,is.a);var as=i("c1df"),ss=i.n(as),rs=(i("d2d4"),i("2ead"));n["default"].use(rs,{moment:ss.a});i("a15b");for(var ls={duration:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];if(!t)return"";var n=e.truncate&&!t.hours()&&!t.minutes()&&!t.seconds(),o=e.truncate&&!t.minutes()&&!t.seconds(),a=e.truncate&&!t.seconds();return Math.abs(t.asDays())>=1?(i.push("".concat(0|t.asDays(),"d")),n||i.push("".concat(t.hours(),"h")),o||i.push("".concat(t.minutes(),"m"))):Math.abs(t.asHours())>=1?(i.push("".concat(0|t.asHours(),"h")),o||i.push("".concat(t.minutes(),"m"))):Math.abs(t.asMinutes())>=1?(i.push("".concat(0|t.asMinutes(),"m")),a||i.push("".concat(t.seconds(),"s"))):i.push("".concat(t.seconds(),"s")),t.asSeconds()<0?"-"+i.join(e.dense?"":" ").replace(/-/g,""):i.join(e.dense?"":" ")}},cs=0,ds=Object.entries(ls);cs<ds.length;cs++){var vs=Object(bt["a"])(ds[cs],2),us=vs[0],ms=vs[1];n["default"].filter(us,ms)}i("4238");n["default"].use(i("b079"),{position:"bottom-left"});var bs=i("4dd9");n["default"].config.productionTip=!1,new bs["a"]({router:Qa,vuetify:ts,render:function(t){return t(T)}}).$mount("#app")},e27c:function(t,e,i){"use strict";var n=i("3935"),o=i.n(n);o.a}});
//# sourceMappingURL=app.f4c13768.js.map